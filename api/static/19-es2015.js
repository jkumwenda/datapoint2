(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{hsOk:function(t,e,i){"use strict";i.r(e),i.d(e,"ConfigModule",(function(){return h}));var o=i("ofXK"),n=i("tyNb"),r=i("3Pt+");class s{}var c=i("fXoL"),b=i("Mtp9"),u=i("7o2P");let m=(()=>{class t{constructor(t){this.commonService=t,this.endpoint="system_configs/"}addConfig(t){return new Promise((e,i)=>{this.commonService.post(this.endpoint,t).then(t=>{e(t)},t=>{i(t)})})}getConfigs(){return new Promise((t,e)=>{this.commonService.get(this.endpoint).then(e=>{t(e[0])},t=>{e(t)})})}getConfig(t){return new Promise((e,i)=>{this.commonService.get(this.endpoint+t+"/").then(t=>{e(t)},t=>{i(t)})})}editConfig(t,e){return new Promise((i,o)=>{this.commonService.update(this.endpoint+t+"/",e).then(t=>{i(!0)},t=>{o(!1)})})}deleteConfig(t){return new Promise((e,i)=>{this.commonService.delete(this.endpoint+t+"/").then(t=>{e(!0)},t=>{i(!1)})})}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(u.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function a(t,e){1&t&&(c.Rb(0,"div",22),c.Hc(1,"Config is required"),c.Qb())}function f(t,e){1&t&&(c.Rb(0,"div",22),c.Hc(1,"Backup time is required"),c.Qb())}function d(t,e){1&t&&(c.Rb(0,"div",22),c.Hc(1,"Backup frequency is required"),c.Qb())}const l=function(){return["/system-config"]},g=[{path:"system-config",component:(()=>{class t{constructor(t,e,i,o){this.sidebarService=t,this.systemConfigService=e,this.formBuilder=i,this.router=o,this.submitted=!1,this.initializeConfigForm()}addConfig(){if(this.submitted=!0,!this.configForm.invalid){const t=this.configForm.value;this.configData={time_out:t.time_out,backup_time:t.backup_time,backup_frequency:t.backup_frequency},this.systemConfigService.addConfig(this.configData).then(t=>{this.ngOnInit()},t=>{})}}getConfig(){this.systemConfigService.getConfigs().then(t=>{this.systemConfig=t,this.initializeConfigForm()},t=>{})}initializeConfigForm(){null==this.systemConfig&&(this.systemConfig=new s,this.systemConfig.time_out=null,this.systemConfig.backup_time=null,this.systemConfig.backup_frequency=null),this.configForm=this.formBuilder.group({time_out:[this.systemConfig.time_out,r.r.compose([r.r.required])],backup_time:[this.systemConfig.backup_time,r.r.compose([r.r.required])],backup_frequency:[this.systemConfig.backup_frequency,r.r.compose([r.r.required])]})}ngOnInit(){this.getConfig(),this.setTitle()}setTitle(){this.sidebarService.setTitle("manage")}get formValidation(){return this.configForm.controls}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(b.a),c.Mb(m),c.Mb(r.b),c.Mb(n.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-config"]],decls:63,vars:9,consts:[[1,"row"],[1,"col","col-lg-7"],[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"table","table-striped","table-borderless","table-dark"],[1,"col","col-lg-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-12"],["for","Config"],["type","input","formControlName","time_out","placeholder","Time out . . .",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","time","min","12:00","max","00:00","required","","formControlName","backup_time","placeholder","Backup time . . .",1,"form-control"],["for","exampleInputEmail1"],["id","select","formControlName","backup_frequency",1,"form-control"],["value","","disabled",""],["value","Daily"],["value","Weekly"],["value","Monthly"],["type","submit",1,"btn","btn-primary"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"strong"),c.Hc(5,"System Configurations"),c.Qb(),c.Qb(),c.Rb(6,"div",4),c.Rb(7,"table",5),c.Rb(8,"tr"),c.Rb(9,"th"),c.Hc(10,"Login timeout"),c.Qb(),c.Rb(11,"td"),c.Hc(12),c.Qb(),c.Qb(),c.Rb(13,"tr"),c.Rb(14,"th"),c.Hc(15,"Backup time"),c.Qb(),c.Rb(16,"td"),c.Hc(17),c.Qb(),c.Qb(),c.Rb(18,"tr"),c.Rb(19,"th"),c.Hc(20,"Backup Frequency"),c.Qb(),c.Rb(21,"td"),c.Hc(22),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(23,"div",6),c.Rb(24,"div",2),c.Rb(25,"div",3),c.Rb(26,"strong"),c.Hc(27,"Set Configurations"),c.Qb(),c.Qb(),c.Rb(28,"div",4),c.Rb(29,"form",7),c.cc("ngSubmit",(function(){return e.addConfig()})),c.Rb(30,"div",8),c.Rb(31,"div",0),c.Rb(32,"div",9),c.Rb(33,"label",10),c.Hc(34,"Time out (Seconds)"),c.Qb(),c.Nb(35,"input",11),c.Qb(),c.Qb(),c.Fc(36,a,2,0,"div",12),c.Qb(),c.Rb(37,"div",8),c.Rb(38,"div",0),c.Rb(39,"div",9),c.Rb(40,"label",10),c.Hc(41,"Backup time"),c.Qb(),c.Nb(42,"input",13),c.Qb(),c.Qb(),c.Fc(43,f,2,0,"div",12),c.Qb(),c.Rb(44,"div",8),c.Rb(45,"div",0),c.Rb(46,"div",9),c.Rb(47,"label",14),c.Hc(48,"Backup frequency"),c.Qb(),c.Rb(49,"select",15),c.Rb(50,"option",16),c.Hc(51,"-- Select frequency --"),c.Qb(),c.Rb(52,"option",17),c.Hc(53,"Daily"),c.Qb(),c.Rb(54,"option",18),c.Hc(55,"Weekly"),c.Qb(),c.Rb(56,"option",19),c.Hc(57,"Monthly"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Fc(58,d,2,0,"div",12),c.Qb(),c.Rb(59,"button",20),c.Hc(60,"Submit"),c.Qb(),c.Rb(61,"button",21),c.Hc(62,"Cancel"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(12),c.Jc(" : ",e.systemConfig.time_out,""),c.zb(5),c.Jc(" : ",e.systemConfig.backup_time,""),c.zb(5),c.Jc(" : ",e.systemConfig.backup_frequency,""),c.zb(7),c.mc("formGroup",e.configForm),c.zb(7),c.mc("ngIf",e.submitted&&e.formValidation.time_out.errors),c.zb(7),c.mc("ngIf",e.submitted&&e.formValidation.backup_time.errors),c.zb(15),c.mc("ngIf",e.submitted&&e.formValidation.topic.errors),c.zb(3),c.mc("routerLink",c.pc(8,l)))},directives:[r.t,r.k,r.e,r.a,r.j,r.d,o.l,r.p,r.q,r.l,r.s,n.c],styles:[""]}),t})()},{path:"set-config",component:(()=>{class t{constructor(t,e,i){this.systemConfigService=t,this.formBuilder=e,this.router=i,this.submitted=!1}addConfig(){if(this.submitted=!0,this.router.navigate(["/system-configs"]),!this.configForm.invalid){const t=this.configForm.value;this.configData={config:t.config,description:t.description},this.systemConfigService.addConfig(this.configData).then(t=>{this.router.navigate(["/system-configs"])},t=>{})}}ngOnInit(){this.configForm=this.formBuilder.group({time_out:["",r.r.compose([r.r.required])],backup_time:["",r.r.compose([r.r.required])],backup_frequency:["",r.r.compose([r.r.required])]})}get formValidation(){return this.configForm.controls}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(m),c.Mb(r.b),c.Mb(n.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-set-config"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(g)],n.f]}),t})(),h=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[o.b,p,r.o]]}),t})()}}]);