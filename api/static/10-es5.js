!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"5SKk":function(t,i,r){"use strict";r.r(i),r.d(i,"FuelModule",(function(){return T}));var o=r("ofXK"),c=r("tyNb"),s=r("NiRy"),a=r("Jdlf"),u=r("fXoL"),b=r("Mtp9"),d=r("a9NN"),m=r("4PCd"),l=r("njyG");function f(e,t){if(1&e){var n=u.Sb();u.Rb(0,"button",11),u.cc("click",(function(){return u.wc(n),u.gc().addFuel()})),u.Hc(1," New Fuel Request "),u.Qb()}}function p(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",19),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).viewFuel(e.pk_fuel_requestid)})),u.Nb(1,"i",20),u.Qb()}}function v(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",21),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).editFuel(e.pk_fuel_requestid)})),u.Nb(1,"i",22),u.Qb()}}function h(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",23),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).deleteFuel(e.pk_fuel_requestid)})),u.Nb(1,"i",24),u.Qb()}}function g(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Hc(2),u.Qb(),u.Rb(3,"td"),u.Hc(4),u.Qb(),u.Rb(5,"td"),u.Hc(6),u.Qb(),u.Rb(7,"td"),u.Hc(8),u.Qb(),u.Rb(9,"td",15),u.Fc(10,p,2,0,"span",16),u.Fc(11,v,2,0,"span",17),u.Fc(12,h,2,0,"span",18),u.Qb(),u.Qb()),2&e){var n=t.$implicit,i=u.gc(2);u.zb(2),u.Jc("TML/FR ",n.pk_fuel_requestid,""),u.zb(2),u.Ic(n.quantity),u.zb(2),u.Ic(n.comment),u.zb(2),u.Ic(n.date),u.zb(2),u.mc("ngIf",i.checkButton("view-fuel")),u.zb(1),u.mc("ngIf",i.checkButton("edit-fuel")),u.zb(1),u.mc("ngIf",i.checkButton("delete-fuel"))}}function R(e,t){if(1&e&&(u.Rb(0,"table",12),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th"),u.Hc(4,"Ref ID"),u.Qb(),u.Rb(5,"th"),u.Hc(6,"Quantity"),u.Qb(),u.Rb(7,"th"),u.Hc(8,"Reason"),u.Qb(),u.Rb(9,"th"),u.Hc(10,"Date"),u.Qb(),u.Rb(11,"th",13),u.Hc(12,"Options"),u.Qb(),u.Qb(),u.Qb(),u.Rb(13,"tbody"),u.Fc(14,g,13,7,"tr",14),u.Qb(),u.Qb()),2&e){var n=u.gc();u.mc("dtOptions",n.dtOptions),u.zb(14),u.mc("ngForOf",n.fuels)}}var k,y=((k=function(){function t(n,i,r,o){e(this,t),this.router=n,this.sidebarService=i,this.requestService=r,this.rolePermissionsState=o,this.dtOptions=a.a}return n(t,[{key:"getFuels",value:function(){var e=this;this.requestService.getRequests("fuels").then((function(t){e.fuels=t}),(function(e){}))}},{key:"viewFuel",value:function(e){this.router.navigate(["/fuel",e])}},{key:"editFuel",value:function(e){this.router.navigate(["/edit-fuel",e])}},{key:"deleteFuel",value:function(e){var t=this;this.requestService.deleteRequest(e,"fuels").then((function(e){t.getFuels()}),(function(e){}))}},{key:"addFuel",value:function(){this.router.navigate(["/add-fuel"])}},{key:"checkButton",value:function(e){return Object(s.a)(this.rolePermissionsState,e)}},{key:"ngOnInit",value:function(){this.getFuels(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||k)(u.Mb(c.b),u.Mb(b.a),u.Mb(d.a),u.Mb(m.a))},k.\u0275cmp=u.Gb({type:k,selectors:[["app-fuels"]],decls:25,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered","datatable","",3,"dtOptions",4,"ngIf"],[1,"pagination"],[1,"page-item","disabled"],["href","#",1,"page-link"],[1,"page-item"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"Fuel Requests"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"p",3),u.Fc(6,f,2,0,"button",4),u.Qb(),u.Rb(7,"div",5),u.Fc(8,R,15,2,"table",6),u.Qb(),u.Rb(9,"ul",7),u.Rb(10,"li",8),u.Rb(11,"a",9),u.Hc(12,"Previous"),u.Qb(),u.Qb(),u.Rb(13,"li",10),u.Rb(14,"a",9),u.Hc(15,"1"),u.Qb(),u.Qb(),u.Rb(16,"li",10),u.Rb(17,"a",9),u.Hc(18,"2"),u.Qb(),u.Qb(),u.Rb(19,"li",10),u.Rb(20,"a",9),u.Hc(21,"3"),u.Qb(),u.Qb(),u.Rb(22,"li",10),u.Rb(23,"a",9),u.Hc(24,"Next"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(6),u.mc("ngIf",t.checkButton("add-fuel")),u.zb(2),u.mc("ngIf",t.fuels))},directives:[o.l,l.a,o.k],styles:[""]}),k),Q=r("3Pt+"),w=r("YqHM"),M=r("T2nI"),F=r("ChtM"),A=r("SYt/");function S(e,t){1&e&&(u.Rb(0,"div",14),u.Hc(1,"Quantity is required"),u.Qb())}function _(e,t){1&e&&(u.Rb(0,"div",14),u.Hc(1,"Comment is required"),u.Qb())}var I,H,x,q,O,z=((I=function(){function t(n,i,r,o,c,s){e(this,t),this.formBuilder=n,this.router=i,this.sidebarService=r,this.currencyService=o,this.requestService=c,this.processService=s,this.submitted=!1}return n(t,[{key:"addFuel",value:function(){var e=this;if(this.submitted=!0,!this.fuelForm.invalid){var t=this.fuelForm.value;this.fuelData={quantity:t.quantity,comment:t.comment,fk_processid:this.processId},this.requestService.addRequest(this.fuelData,"fuels").then((function(t){e.router.navigate(["/fuels"])}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;Object(w.a)(M.a.AddFuel,this.processService).then((function(t){return e.processId=t})),this.fuelForm=this.formBuilder.group({quantity:["",Q.r.compose([Q.r.required])],comment:["",Q.r.compose([Q.r.required])]}),this.sidebarService.setTitle("myRequests")}},{key:"formValidation",get:function(){return this.fuelForm.controls}}]),t}()).\u0275fac=function(e){return new(e||I)(u.Mb(Q.b),u.Mb(c.b),u.Mb(b.a),u.Mb(F.a),u.Mb(d.a),u.Mb(A.a))},I.\u0275cmp=u.Gb({type:I,selectors:[["app-add-fuel"]],decls:24,vars:5,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","quantityInput"],["type","text","formControlName","quantity","placeholder","Quantity",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","paymentFor"],["type","password","id","paymentFor","placeholder","Requests description . . . ","rows","5","formControlName","comment",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"AFP Details"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"form",3),u.cc("ngSubmit",(function(){return t.addFuel()})),u.Rb(6,"div",4),u.Rb(7,"div",5),u.Rb(8,"div",6),u.Rb(9,"label",7),u.Hc(10,"Quantity (ltrs)"),u.Qb(),u.Nb(11,"input",8),u.Fc(12,S,2,0,"div",9),u.Qb(),u.Qb(),u.Qb(),u.Rb(13,"div",4),u.Rb(14,"div",5),u.Rb(15,"div",6),u.Rb(16,"label",10),u.Hc(17,"Reason/Comment"),u.Qb(),u.Nb(18,"textarea",11),u.Fc(19,_,2,0,"div",9),u.Qb(),u.Qb(),u.Qb(),u.Rb(20,"button",12),u.Hc(21,"Submit"),u.Qb(),u.Rb(22,"button",13),u.Hc(23,"Cancel"),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(5),u.mc("formGroup",t.fuelForm),u.zb(7),u.mc("ngIf",t.submitted&&t.formValidation.quantity.errors),u.zb(7),u.mc("ngIf",t.submitted&&t.formValidation.comment.errors),u.zb(1),u.mc("disabled",!t.fuelForm.valid),u.zb(2),u.mc("routerLink","/fuels"))},directives:[Q.t,Q.k,Q.e,Q.a,Q.j,Q.d,o.l,c.c],styles:[""]}),I),G=r("mrSG"),N=r("Dsut"),j=((x=function(){function t(n,i,r){e(this,t),this.router=n,this.requestService=i,this.activatedRoute=r,this.fuelId=r.snapshot.params.id,this.initializeFuel()}return n(t,[{key:"getRequest",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.fuel.fk_processid,"&workflowid=").concat(this.fuelId));case 3:t=e.sent,this.request=t[0],e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getFuel",value:function(e){var t=this;this.requestService.getRequest(e,"fuels").then((function(e){t.fuel=e,t.getRequest(),t.initializeFuel()}),(function(e){}))}},{key:"initializeFuel",value:function(){null==this.fuel&&(this.fuel=new N.c,this.fuel.quantity=null,this.fuel.comment=null)}},{key:"ngOnInit",value:function(){this.getFuel(this.fuelId)}}]),t}()).\u0275fac=function(e){return new(e||x)(u.Mb(c.b),u.Mb(d.a),u.Mb(c.a))},x.\u0275cmp=u.Gb({type:x,selectors:[["app-fuel"]],decls:93,vars:4,consts:[[1,"row"],[1,"col","col-lg-3"],[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer","md-primary-dark"],[1,"card-body","login-card-body"],["role","alert",1,"alert","alert-success","workflow-alert"],[1,"small"],[1,"mdi","mdi-check-circle"],["role","alert",1,"alert","alert-light","workflow-arrow"],[1,"mdi","mdi-arrow-down-thick"],["role","alert",1,"alert","alert-warning","workflow-alert"],[1,"col","col-lg-9"],[1,"card-header","card-header-customer"],[1,"table","table-bordered"],["scope","row"],["scope","row","width","200"],[1,"card","card-file"],[1,"card-header","alert-primary"],[1,"card-body"],[1,"card"],[1,"card-body","button-body"],[1,"btn","btn-primary","btn-form","mdi","mdi-home",3,"routerLink"],[1,"btn","btn-primary","btn-form","mdi","mdi-send"],[1,"btn","btn-primary","btn-form","mdi","mdi-file-upload"],[1,"btn","btn-primary","btn-form","mdi","mdi-download"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"div",3),u.Rb(4,"strong"),u.Hc(5,"AFP Status"),u.Qb(),u.Qb(),u.Rb(6,"div",4),u.Rb(7,"div",5),u.Rb(8,"strong"),u.Hc(9,"Request Initiated"),u.Qb(),u.Nb(10,"br"),u.Rb(11,"span",6),u.Rb(12,"strong"),u.Hc(13,"EDWIN Mshanga "),u.Nb(14,"span",7),u.Qb(),u.Qb(),u.Nb(15,"br"),u.Rb(16,"span",6),u.Hc(17,"28 Jun 2020"),u.Qb(),u.Qb(),u.Rb(18,"div",8),u.Nb(19,"span",9),u.Qb(),u.Rb(20,"div",5),u.Rb(21,"strong"),u.Hc(22,"Approval"),u.Qb(),u.Nb(23,"br"),u.Rb(24,"span",6),u.Hc(25,"JOEL Kumwenda"),u.Qb(),u.Nb(26,"br"),u.Rb(27,"span",6),u.Rb(28,"strong"),u.Hc(29,"MWIZA Nyirenda "),u.Nb(30,"span",7),u.Qb(),u.Qb(),u.Nb(31,"br"),u.Rb(32,"span",6),u.Hc(33,"29 June 2020"),u.Qb(),u.Qb(),u.Rb(34,"div",8),u.Nb(35,"span",9),u.Qb(),u.Rb(36,"div",10),u.Rb(37,"strong"),u.Hc(38,"Approval"),u.Qb(),u.Nb(39,"br"),u.Rb(40,"span",6),u.Hc(41,"BRIGHT"),u.Qb(),u.Nb(42,"br"),u.Qb(),u.Rb(43,"div",8),u.Nb(44,"span",9),u.Qb(),u.Rb(45,"div",10),u.Rb(46,"strong"),u.Hc(47,"Implementation"),u.Qb(),u.Nb(48,"br"),u.Rb(49,"span",6),u.Hc(50,"BALL Salamata"),u.Qb(),u.Nb(51,"br"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(52,"div",11),u.Rb(53,"div",2),u.Rb(54,"div",12),u.Rb(55,"strong"),u.Hc(56,"Fuel Request Details"),u.Qb(),u.Qb(),u.Rb(57,"div",4),u.Rb(58,"table",13),u.Rb(59,"tbody"),u.Rb(60,"tr"),u.Rb(61,"th",14),u.Hc(62,"Initiated by"),u.Qb(),u.Rb(63,"td"),u.Hc(64),u.Qb(),u.Qb(),u.Rb(65,"tr"),u.Rb(66,"th",15),u.Hc(67,"Quantity"),u.Qb(),u.Rb(68,"td"),u.Hc(69),u.Qb(),u.Qb(),u.Rb(70,"tr"),u.Rb(71,"th",14),u.Hc(72,"Comment"),u.Qb(),u.Rb(73,"td"),u.Hc(74),u.Qb(),u.Qb(),u.Rb(75,"tr"),u.Rb(76,"th",14),u.Hc(77,"Date"),u.Qb(),u.Rb(78,"td"),u.Hc(79,"03 July 2020"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(80,"div",16),u.Rb(81,"div",17),u.Hc(82,"Attachement(s)"),u.Qb(),u.Nb(83,"div",18),u.Qb(),u.Rb(84,"div",19),u.Rb(85,"div",20),u.Nb(86,"button",21),u.Rb(87,"button",22),u.Hc(88," Submit "),u.Qb(),u.Rb(89,"button",23),u.Hc(90," Attach Files "),u.Qb(),u.Rb(91,"button",24),u.Hc(92," Download "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(64),u.Jc(" ",t.request&&t.request.profile.user.first_name+" "+t.request.profile.user.last_name," "),u.zb(5),u.Jc("",t.fuel.quantity," (Ltrs)"),u.zb(5),u.Ic(t.fuel.comment),u.zb(12),u.mc("routerLink","/fuels"))},directives:[c.c],styles:[""]}),x),C=((H=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=u.Gb({type:H,selectors:[["app-edit-fuel"]],decls:2,vars:0,template:function(e,t){1&e&&(u.Rb(0,"p"),u.Hc(1,"edit-fuel works!"),u.Qb())},styles:[""]}),H),P=r("jljr"),D=r("umRm"),B=[{path:"",component:P.a,children:[{path:"fuels",component:y},{path:"add-fuel",component:z},{path:"edit-fuel/:id",component:C}]},{path:"",component:D.a,children:[{path:"fuel/:id",component:j}]}],J=((O=function t(){e(this,t)}).\u0275mod=u.Kb({type:O}),O.\u0275inj=u.Jb({factory:function(e){return new(e||O)},imports:[[c.f.forChild(B)],c.f]}),O),T=((q=function t(){e(this,t)}).\u0275mod=u.Kb({type:q}),q.\u0275inj=u.Jb({factory:function(e){return new(e||q)},imports:[[o.b,J,Q.o,l.b]]}),q)},"5oCR":function(t,i,r){"use strict";r.r(i),r.d(i,"AssetMovementModule",(function(){return pe}));var o,c=r("ofXK"),s=r("tyNb"),a=r("mrSG"),u=r("NiRy"),b=r("Jdlf"),d=r("fXoL"),m=r("7o2P"),l=((o=function(){function t(n){e(this,t),this.commonService=n,this.endpoint="asset_movements/"}return n(t,[{key:"addAssetMovement",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.post(t.endpoint,e).then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"getAssetMovements",value:function(){var e=this;return new Promise((function(t,n){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){n(e)}))}))}},{key:"getAssetMovement",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.get(t.endpoint+e+"/").then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"editAssetMovement",value:function(e,t){var n=this;return new Promise((function(i,r){n.commonService.update(n.endpoint+e+"/",t).then((function(e){i(e)}),(function(e){r(!1)}))}))}},{key:"deleteAssetMovement",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.delete(t.endpoint+e+"/").then((function(e){n(!0)}),(function(e){i(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||o)(d.Zb(m.a))},o.\u0275prov=d.Ib({token:o,factory:o.\u0275fac,providedIn:"root"}),o),f=r("4PCd"),p=r("Mtp9"),v=r("njyG"),h=function(){return["/add-asset-movement"]};function g(e,t){1&e&&(d.Rb(0,"button",6),d.Hc(1," Asset Movement "),d.Qb()),2&e&&d.mc("routerLink",d.pc(1,h))}function R(e,t){if(1&e){var n=d.Sb();d.Rb(0,"span",14),d.cc("click",(function(){d.wc(n);var e=d.gc().$implicit;return d.gc(2).view(e.pk_asset_movementid)})),d.Nb(1,"i",15),d.Qb()}}function k(e,t){if(1&e){var n=d.Sb();d.Rb(0,"span",16),d.cc("click",(function(){d.wc(n);var e=d.gc().$implicit;return d.gc(2).edit(e.pk_asset_movementid)})),d.Nb(1,"i",17),d.Qb()}}function y(e,t){if(1&e){var n=d.Sb();d.Rb(0,"span",18),d.cc("click",(function(){d.wc(n);var e=d.gc().$implicit;return d.gc(2).delete(e.pk_asset_movementid)})),d.Nb(1,"i",19),d.Qb()}}function Q(e,t){if(1&e&&(d.Rb(0,"tr"),d.Rb(1,"td"),d.Hc(2),d.Qb(),d.Rb(3,"td"),d.Hc(4),d.Qb(),d.Rb(5,"td"),d.Hc(6),d.Qb(),d.Rb(7,"td"),d.Hc(8),d.Qb(),d.Rb(9,"td"),d.Hc(10),d.Qb(),d.Rb(11,"td",10),d.Fc(12,R,2,0,"span",11),d.Fc(13,k,2,0,"span",12),d.Fc(14,y,2,0,"span",13),d.Qb(),d.Qb()),2&e){var n=t.$implicit,i=d.gc(2);d.zb(2),d.Jc("TML/AM ",n.pk_asset_movementid,""),d.zb(2),d.Ic(n.date),d.zb(2),d.Ic(n.natureMovement.nature_movement),d.zb(2),d.Ic(n.fromStation.station),d.zb(2),d.Ic(n.toStation.station),d.zb(2),d.mc("ngIf",i.checkButton("view-asset-movement")),d.zb(1),d.mc("ngIf",i.checkButton("edit-asset-movement")),d.zb(1),d.mc("ngIf",i.checkButton("delete-asset-movement"))}}function w(e,t){if(1&e&&(d.Rb(0,"table",7),d.Rb(1,"thead"),d.Rb(2,"tr"),d.Rb(3,"th"),d.Hc(4,"Ref ID"),d.Qb(),d.Rb(5,"th"),d.Hc(6,"Date"),d.Qb(),d.Rb(7,"th"),d.Hc(8,"Nature Of Movement"),d.Qb(),d.Rb(9,"th"),d.Hc(10,"From"),d.Qb(),d.Rb(11,"th"),d.Hc(12,"To"),d.Qb(),d.Rb(13,"th",8),d.Hc(14,"Options"),d.Qb(),d.Qb(),d.Qb(),d.Rb(15,"tbody"),d.Fc(16,Q,15,8,"tr",9),d.Qb(),d.Qb()),2&e){var n=d.gc();d.mc("dtOptions",n.dtOptions),d.zb(16),d.mc("ngForOf",n.assetMovements)}}var M,F,A=((M=function(){function t(n,i,r,o){e(this,t),this.assetMovementService=n,this.rolePermissionsState=i,this.router=r,this.sidebarService=o,this.dtOptions=b.a}return n(t,[{key:"getAssetMovement",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetMovementService.getAssetMovements();case 3:this.assetMovements=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"checkButton",value:function(e){return Object(u.a)(this.rolePermissionsState,e)}},{key:"edit",value:function(e){this.router.navigate(["edit-asset-movement",e])}},{key:"delete",value:function(e){}},{key:"view",value:function(e){this.router.navigate(["asset-movement",e])}},{key:"ngOnInit",value:function(){this.getAssetMovement(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||M)(d.Mb(l),d.Mb(f.a),d.Mb(s.b),d.Mb(p.a))},M.\u0275cmp=d.Gb({type:M,selectors:[["app-asset-movements"]],decls:8,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"routerLink",4,"ngIf"],["datatable","","class","table table-striped table-bordered",3,"dtOptions",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"routerLink"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],["width","80",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"strong"),d.Hc(3,"Asset Movements"),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"p",3),d.Fc(6,g,2,2,"button",4),d.Qb(),d.Fc(7,w,17,2,"table",5),d.Qb(),d.Qb()),2&e&&(d.zb(6),d.mc("ngIf",t.checkButton("add-role")),d.zb(1),d.mc("ngIf",t.assetMovements))},directives:[c.l,s.c,v.a,c.k],styles:[""]}),M),S=r("3Pt+"),_=r("YqHM"),I=r("T2nI"),H=((F=function(){function t(n){e(this,t),this.commonService=n,this.endpoint="assets/"}return n(t,[{key:"addAsset",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.post(t.endpoint,e).then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"getAssets",value:function(){var e=this;return new Promise((function(t,n){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){n(e)}))}))}},{key:"getAsset",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.get(t.endpoint+e+"/").then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"editAsset",value:function(e,t){var n=this;return new Promise((function(i,r){n.commonService.update(n.endpoint+e+"/",t).then((function(e){i(e)}),(function(e){r(!1)}))}))}},{key:"deleteAsset",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.delete(t.endpoint+e+"/").then((function(e){n(!0)}),(function(e){i(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||F)(d.Zb(m.a))},F.\u0275prov=d.Ib({token:F,factory:F.\u0275fac,providedIn:"root"}),F),x=r("SYt/"),q=r("bUWO");function O(e,t){if(1&e&&(d.Rb(0,"option",10),d.Hc(1),d.Qb()),2&e){var n=t.$implicit;d.nc("value",n.pk_asset_typeid),d.zb(1),d.Jc(" ",n.asset_type," ")}}var z,G,N,j=((N=function(){function t(n){e(this,t),this.assetTypeService=n}return n(t,[{key:"getAssetTypes",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetTypeService.getAssetTypes();case 3:this.assetTypes=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"ngOnInit",value:function(){this.getAssetTypes()}}]),t}()).\u0275fac=function(e){return new(e||N)(d.Mb(q.a))},N.\u0275cmp=d.Gb({type:N,selectors:[["app-asset-form"]],inputs:{addAssetMovementForm:"addAssetMovementForm"},decls:13,vars:2,consts:[[3,"formGroup"],["formGroupName","asset"],[1,"form-group"],[1,"row"],[1,"col-lg-5","col-md-5","col-sm-12"],["for","asset_type"],["id","asset_type","formControlName","fk_asset_typeid",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","asset"],["type","number","placeholder","Number of Assets...","formControlName","asset","id","asset",1,"form-control"],[3,"value"]],template:function(e,t){1&e&&(d.Pb(0,0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Rb(3,"div",3),d.Rb(4,"div",4),d.Rb(5,"label",5),d.Hc(6,"Asset Type"),d.Qb(),d.Rb(7,"select",6),d.Fc(8,O,2,2,"option",7),d.Qb(),d.Qb(),d.Rb(9,"div",4),d.Rb(10,"label",8),d.Hc(11,"Number of Assets"),d.Qb(),d.Nb(12,"input",9),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Ob()),2&e&&(d.mc("formGroup",t.addAssetMovementForm),d.zb(8),d.mc("ngForOf",t.assetTypes))},directives:[S.k,S.e,S.f,S.q,S.j,S.d,c.k,S.m,S.a,S.l,S.s],styles:[""]}),N),C=((G=function(){function t(n){e(this,t),this.commonService=n,this.endpoint="stations/"}return n(t,[{key:"addStation",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.post(t.endpoint,e).then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"getStations",value:function(){var e=this;return new Promise((function(t,n){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){n(e)}))}))}},{key:"getStation",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.get(t.endpoint+e+"/").then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"editStation",value:function(e,t){var n=this;return new Promise((function(i,r){n.commonService.update(n.endpoint+e+"/",t).then((function(e){i(e)}),(function(e){r(!1)}))}))}},{key:"deleteStation",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.delete(t.endpoint+e+"/").then((function(e){n(!0)}),(function(e){i(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||G)(d.Zb(m.a))},G.\u0275prov=d.Ib({token:G,factory:G.\u0275fac,providedIn:"root"}),G),P=((z=function(){function t(n){e(this,t),this.commonService=n,this.endpoint="nature_movements/"}return n(t,[{key:"addNatureMovement",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.post(t.endpoint,e).then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"getNatureMovements",value:function(){var e=this;return new Promise((function(t,n){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){n(e)}))}))}},{key:"getNatureMovement",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.get(t.endpoint+e+"/").then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"editNatureMovement",value:function(e,t){var n=this;return new Promise((function(i,r){n.commonService.update(n.endpoint+e+"/",t).then((function(e){i(e)}),(function(e){r(!1)}))}))}},{key:"deleteNatureMovement",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.delete(t.endpoint+e+"/").then((function(e){n(!0)}),(function(e){i(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||z)(d.Zb(m.a))},z.\u0275prov=d.Ib({token:z,factory:z.\u0275fac,providedIn:"root"}),z);function D(e,t){if(1&e&&(d.Rb(0,"option",15),d.Hc(1),d.Qb()),2&e){var n=t.$implicit;d.nc("value",n.pk_stationid),d.zb(1),d.Jc(" ",n.station," ")}}function B(e,t){if(1&e&&(d.Rb(0,"option",15),d.Hc(1),d.Qb()),2&e){var n=t.$implicit;d.nc("value",n.pk_stationid),d.zb(1),d.Jc(" ",n.station," ")}}function J(e,t){if(1&e&&(d.Rb(0,"option",15),d.Hc(1),d.Qb()),2&e){var n=t.$implicit;d.nc("value",n.pk_nature_movementid),d.zb(1),d.Ic(n.nature_movement)}}var T,V=((T=function(){function t(n,i){e(this,t),this.stationService=n,this.natureMovementService=i}return n(t,[{key:"getStations",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stationService.getStations();case 3:this.stations=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"getNatureMovements",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.natureMovementService.getNatureMovements();case 3:this.natureMovements=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"ngOnInit",value:function(){this.getNatureMovements(),this.getStations()}}]),t}()).\u0275fac=function(e){return new(e||T)(d.Mb(C),d.Mb(P))},T.\u0275cmp=d.Gb({type:T,selectors:[["app-asset-movement-form"]],inputs:{addAssetMovementForm:"addAssetMovementForm"},decls:31,vars:4,consts:[[3,"formGroup"],["formGroupName","assetMovement"],[1,"form-group"],[1,"row"],[1,"col-lg-5","col-md-5","col-sm-12"],["for","nature_movement"],["id","nature_movement","formControlName","fk_from_stationid",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["id","nature_movement","formControlName","fk_to_stationid",1,"form-control"],["for","date"],["type","date","placeholder","From","formControlName","date","id","to",1,"form-control"],["id","nature_movement","formControlName","fk_nature_movementid",1,"form-control"],[1,"col-lg-10","col-md-10","col-sm-12"],["for","From"],["formControlName","comment","name","","id","From","rows","3",1,"form-control"],[3,"value"]],template:function(e,t){1&e&&(d.Pb(0,0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Rb(3,"div",3),d.Rb(4,"div",4),d.Rb(5,"label",5),d.Hc(6,"From"),d.Qb(),d.Rb(7,"select",6),d.Fc(8,D,2,2,"option",7),d.Qb(),d.Qb(),d.Rb(9,"div",4),d.Rb(10,"label",5),d.Hc(11,"To"),d.Qb(),d.Rb(12,"select",8),d.Fc(13,B,2,2,"option",7),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(14,"div",2),d.Rb(15,"div",3),d.Rb(16,"div",4),d.Rb(17,"label",9),d.Hc(18,"Date"),d.Qb(),d.Nb(19,"input",10),d.Qb(),d.Rb(20,"div",4),d.Rb(21,"label",5),d.Hc(22,"Nature of Movement"),d.Qb(),d.Rb(23,"select",11),d.Fc(24,J,2,2,"option",7),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(25,"div",2),d.Rb(26,"div",3),d.Rb(27,"div",12),d.Rb(28,"label",13),d.Hc(29,"Comment"),d.Qb(),d.Nb(30,"textarea",14),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Ob()),2&e&&(d.mc("formGroup",t.addAssetMovementForm),d.zb(8),d.mc("ngForOf",t.stations),d.zb(5),d.mc("ngForOf",t.stations),d.zb(11),d.mc("ngForOf",t.natureMovements))},directives:[S.k,S.e,S.f,S.q,S.j,S.d,c.k,S.a,S.l,S.s],styles:[""]}),T);function $(e,t){if(1&e){var n=d.Sb();d.Rb(0,"tr"),d.Rb(1,"td"),d.Hc(2),d.Qb(),d.Rb(3,"td"),d.Hc(4),d.Qb(),d.Rb(5,"td",4),d.Rb(6,"span",5),d.cc("click",(function(){d.wc(n);var e=t.$implicit;return d.gc(2).edit(e)})),d.Nb(7,"i",6),d.Qb(),d.Rb(8,"span",7),d.cc("click",(function(){d.wc(n);var e=t.$implicit;return d.gc(2).delete(e.pk_assetid)})),d.Nb(9,"i",8),d.Qb(),d.Qb(),d.Qb()}if(2&e){var i=t.$implicit;d.zb(2),d.Ic(i.assetType.asset_type),d.zb(2),d.Ic(i.asset)}}function E(e,t){if(1&e&&(d.Rb(0,"table",1),d.Rb(1,"thead"),d.Rb(2,"tr"),d.Rb(3,"th"),d.Hc(4,"Asset Type"),d.Qb(),d.Rb(5,"th"),d.Hc(6,"Asset"),d.Qb(),d.Rb(7,"th",2),d.Hc(8,"Options"),d.Qb(),d.Qb(),d.Qb(),d.Rb(9,"tbody"),d.Fc(10,$,10,2,"tr",3),d.Qb(),d.Qb()),2&e){var n=d.gc();d.zb(10),d.mc("ngForOf",n.assets)}}var L,K,X=((K=function(){function t(){e(this,t)}return n(t,[{key:"edit",value:function(e){this.updateAsset(e)}},{key:"delete",value:function(e){this.deleteAsset(e)}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||K)},K.\u0275cmp=d.Gb({type:K,selectors:[["app-asset-list"]],inputs:{assets:"assets",updateAsset:"updateAsset",deleteAsset:"deleteAsset"},decls:1,vars:1,consts:[["class","table table-bordered table-striped",4,"ngIf"],[1,"table","table-bordered","table-striped"],["width","80",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&d.Fc(0,E,11,1,"table",0),2&e&&d.mc("ngIf",t.assets)},directives:[c.l,c.k],styles:[""]}),K),Y=((L=function(){function t(n,i,r,o,c,s){var u=this;e(this,t),this.formBuilder=n,this.assetMovementService=i,this.assetService=r,this.router=o,this.processService=c,this.sidebarService=s,this.assets=[],this.updateAsset=function(e){var t=u.assets.findIndex((function(t){return t.pk_assetid===e.pk_assetid}));u.assets.splice(t,1),console.log("asset",e),u.initForm(u.assetMovement,e)},this.deleteAsset=function(e){return Object(a.a)(u,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assetService.deleteAsset(e);case 3:n=this.assets.findIndex((function(t){return t.pk_assetid===e})),this.assets.splice(n,1),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}}return n(t,[{key:"editAsset",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assetService.editAsset(e.pk_assetid,e);case 3:n=t.sent,this.assets.push(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addAsset",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pk_assetid){t.next=4;break}this.editAsset(e),t.next=13;break;case 4:return t.prev=4,t.next=7,this.assetService.addAsset(Object.assign(Object.assign({},e),{fk_asset_movementid:this.assetMovement.pk_asset_movementid}));case 7:n=t.sent,this.initForm(this.assetMovement),this.assets.push(n),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:case"end":return t.stop()}}),t,this,[[4,11]])})))}},{key:"editAssetMovement",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assetMovementService.editAssetMovement(e.pk_asset_movementid,e);case 3:this.assetMovement=t.sent,this.initForm(this.assetMovement),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addAssetMovement",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pk_asset_movementid){t.next=2;break}return t.abrupt("return",void this.editAssetMovement(e));case 2:return n=Object.assign({fk_processid:this.processId},e),t.prev=3,t.next=6,this.assetMovementService.addAssetMovement(n);case 6:this.assetMovement=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"submit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.addAssetMovementForm.value,n=t.asset,i=t.assetMovement,e.next=3,this.addAssetMovement(i);case 3:return e.next=5,this.addAsset(n);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"navigateAssetMovementView",value:function(){this.router.navigate(["asset-movement",this.assetMovement.pk_asset_movementid])}},{key:"ngOnInit",value:function(){var e=this;Object(_.a)(I.a.AddAssetMovement,this.processService).then((function(t){return e.processId=t})),this.initForm(),this.sidebarService.setTitle("myRequests")}},{key:"initForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.addAssetMovementForm=this.formBuilder.group({assetMovement:this.formBuilder.group({pk_asset_movementid:e.pk_asset_movementid,comment:[e.comment,S.r.compose([S.r.required])],date:[e.date,S.r.compose([S.r.required])],fk_nature_movementid:[e.fk_nature_movementid,S.r.compose([S.r.required])],fk_from_stationid:[e.fk_from_stationid,S.r.compose([S.r.required])],fk_to_stationid:[e.fk_to_stationid,S.r.compose([S.r.required])]}),asset:this.formBuilder.group({pk_assetid:t.pk_assetid,asset:[t.asset,S.r.compose([S.r.required])],fk_asset_typeid:[t.fk_asset_typeid,S.r.compose([S.r.required])],fk_asset_movementid:[t.fk_asset_movementid,S.r.compose([S.r.required])]})})}}]),t}()).\u0275fac=function(e){return new(e||L)(d.Mb(S.b),d.Mb(l),d.Mb(H),d.Mb(s.b),d.Mb(x.a),d.Mb(p.a))},L.\u0275cmp=d.Gb({type:L,selectors:[["app-add-asset-movement"]],decls:20,vars:8,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[3,"addAssetMovementForm"],["type","submit",1,"btn","btn-primary"],[3,"assets","updateAsset","deleteAsset"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"strong"),d.Hc(3,"Asset Movement"),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"form",3),d.cc("ngSubmit",(function(){return t.submit()})),d.Nb(6,"app-asset-form",4),d.Nb(7,"app-asset-movement-form",4),d.Nb(8,"br"),d.Rb(9,"button",5),d.Hc(10),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Nb(11,"br"),d.Rb(12,"div",0),d.Rb(13,"div",1),d.Rb(14,"strong"),d.Hc(15,"Vouchers"),d.Qb(),d.Nb(16,"app-asset-list",6),d.Qb(),d.Rb(17,"div",2),d.Rb(18,"button",7),d.cc("click",(function(){return t.navigateAssetMovementView()})),d.Hc(19," Submit "),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.zb(5),d.mc("formGroup",t.addAssetMovementForm),d.zb(1),d.mc("addAssetMovementForm",t.addAssetMovementForm),d.zb(1),d.mc("addAssetMovementForm",t.addAssetMovementForm),d.zb(3),d.Jc(" ",t.editMode?"Update Voucher":"Add"," "),d.zb(6),d.mc("assets",t.assets)("updateAsset",t.updateAsset)("deleteAsset",t.deleteAsset),d.zb(2),d.mc("disabled",0===t.assets.length))},directives:[S.t,S.k,S.e,j,V,X],styles:[""]}),L),W=r("m4K9"),Z=r.n(W),U=r("DaQG"),ee=r.n(U),te=r("a9NN"),ne=r("hE/2");function ie(e,t){if(1&e&&(d.Rb(0,"table",3),d.Rb(1,"tbody"),d.Rb(2,"tr"),d.Rb(3,"th",4),d.Hc(4,"Requested by :"),d.Qb(),d.Rb(5,"td"),d.Hc(6),d.Qb(),d.Qb(),d.Rb(7,"tr"),d.Rb(8,"th",4),d.Hc(9,"Nature of Movement:"),d.Qb(),d.Rb(10,"td"),d.Hc(11),d.Qb(),d.Qb(),d.Rb(12,"tr"),d.Rb(13,"th",4),d.Hc(14,"Date:"),d.Qb(),d.Rb(15,"td"),d.Hc(16),d.Qb(),d.Qb(),d.Rb(17,"tr"),d.Rb(18,"th",4),d.Hc(19,"From station:"),d.Qb(),d.Rb(20,"td"),d.Hc(21),d.Qb(),d.Qb(),d.Rb(22,"tr"),d.Rb(23,"th",4),d.Hc(24,"To station:"),d.Qb(),d.Rb(25,"td"),d.Hc(26),d.Qb(),d.Qb(),d.Rb(27,"tr"),d.Rb(28,"th",4),d.Hc(29,"Comment:"),d.Qb(),d.Rb(30,"td"),d.Hc(31),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&e){var n=d.gc();d.zb(6),d.Jc(" ",n.request&&n.request.profile.user.first_name+" "+n.request.profile.user.last_name," "),d.zb(5),d.Jc(" ",n.assetMovement.natureMovement.nature_movement," "),d.zb(5),d.Jc(" ",n.assetMovement.date," "),d.zb(5),d.Jc(" ",n.assetMovement.fromStation.station," "),d.zb(5),d.Jc(" ",n.assetMovement.toStation.station," "),d.zb(5),d.Jc(" ",n.assetMovement.comment," ")}}function re(e,t){if(1&e&&(d.Rb(0,"tr"),d.Rb(1,"td"),d.Hc(2),d.Qb(),d.Rb(3,"td"),d.Hc(4),d.Qb(),d.Qb()),2&e){var n=t.$implicit;d.zb(2),d.Ic(n.asset),d.zb(2),d.Ic(n.assetType.asset_type)}}function oe(e,t){if(1&e&&(d.Rb(0,"table",5),d.Rb(1,"thead"),d.Rb(2,"tr"),d.Rb(3,"th"),d.Hc(4,"Asset"),d.Qb(),d.Rb(5,"th"),d.Hc(6,"Asset Type"),d.Qb(),d.Qb(),d.Qb(),d.Rb(7,"tbody"),d.Fc(8,re,5,2,"tr",6),d.Qb(),d.Qb()),2&e){var n=d.gc();d.zb(8),d.mc("ngForOf",n.assetMovement.assets)}}var ce,se,ae,ue,be=((se=function(){function t(n,i,r,o){e(this,t),this.assetMovementService=n,this.activedRoute=i,this.sidebarService=r,this.requestService=o,this.downloadPDF=function(){var e=new Z.a("p","pt");e.text("Asset Movement",35,20),ee()(e,{html:"#table"}),ee()(e,{html:"#table-2"}),e.save("asset-movement-".concat(Date.now(),".pdf"))},this.assestMovementId=this.activedRoute.snapshot.params.id}return n(t,[{key:"getRequest",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.assetMovement.fk_processid,"&workflowid=").concat(this.assestMovementId));case 3:t=e.sent,this.request=t[0],e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getAssetMovements",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetMovementService.getAssetMovement(this.assestMovementId);case 3:this.assetMovement=e.sent,this.getRequest(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"ngOnInit",value:function(){this.getAssetMovements(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||se)(d.Mb(l),d.Mb(s.a),d.Mb(p.a),d.Mb(te.a))},se.\u0275cmp=d.Gb({type:se,selectors:[["app-asset-movement"]],decls:3,vars:6,consts:[[3,"title","processId","workflowid","downloadButtonClicked"],["class","table table-borderless table-responsive","id","table",4,"ngIf"],["datatable","","class","table table-bordered table-striped","id","table-2",4,"ngIf"],["id","table",1,"table","table-borderless","table-responsive"],["scope","row"],["datatable","","id","table-2",1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d.Rb(0,"app-view-card",0),d.Fc(1,ie,32,6,"table",1),d.Fc(2,oe,9,1,"table",2),d.Qb()),2&e&&(d.mc("title","Asset Movement")("processId",t.assetMovement&&t.assetMovement.fk_processid)("workflowid",t.assestMovementId)("downloadButtonClicked",t.downloadPDF),d.zb(1),d.mc("ngIf",t.assetMovement),d.zb(1),d.mc("ngIf",t.assetMovement))},directives:[ne.a,c.l,v.a,c.k],styles:[""]}),se),de=((ce=function(){function t(n,i,r,o,c,s,u){var b=this;e(this,t),this.formBuilder=n,this.assetMovementService=i,this.assetService=r,this.router=o,this.processService=c,this.sidebarService=s,this.activatedRoute=u,this.assets=[],this.updateAsset=function(e){var t=b.assets.findIndex((function(t){return t.pk_assetid===e.pk_assetid}));b.assets.splice(t,1),b.initForm(b.assetMovement,e)},this.deleteAsset=function(e){return Object(a.a)(b,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assetService.deleteAsset(e);case 3:n=this.assets.findIndex((function(t){return t.pk_assetid===e})),this.assets.splice(n,1),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))},this.assetMovementId=this.activatedRoute.snapshot.params.id}return n(t,[{key:"getAssetMovement",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetMovementService.getAssetMovement(this.assetMovementId);case 3:this.assetMovement=e.sent,this.assets=this.assetMovement.assets,this.initForm(this.assetMovement),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})))}},{key:"editAsset",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assetService.editAsset(e.pk_assetid,e);case 3:n=t.sent,this.assets.push(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addAsset",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pk_assetid){t.next=4;break}this.editAsset(e),t.next=13;break;case 4:return t.prev=4,t.next=7,this.assetService.addAsset(Object.assign(Object.assign({},e),{fk_asset_movementid:this.assetMovement.pk_asset_movementid}));case 7:n=t.sent,this.initForm(this.assetMovement),this.assets.push(n),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:case"end":return t.stop()}}),t,this,[[4,11]])})))}},{key:"editAssetMovement",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assetMovementService.editAssetMovement(e.pk_asset_movementid,e);case 3:this.assetMovement=t.sent,this.initForm(this.assetMovement),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addAssetMovement",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pk_asset_movementid){t.next=2;break}return t.abrupt("return",void this.editAssetMovement(e));case 2:return n=Object.assign({fk_processid:this.processId},e),t.prev=3,t.next=6,this.assetMovementService.addAssetMovement(n);case 6:this.assetMovement=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"submit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.addAssetMovementForm.value,n=t.asset,i=t.assetMovement,e.next=3,this.addAssetMovement(i);case 3:if(e.t0=n.asset,!e.t0){e.next=7;break}return e.next=7,this.addAsset(n);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"navigateAssetMovementView",value:function(){this.router.navigate(["asset-movement",this.assetMovement.pk_asset_movementid])}},{key:"ngOnInit",value:function(){var e=this;Object(_.a)(I.a.AddAssetMovement,this.processService).then((function(t){return e.processId=t})),this.initForm(),this.getAssetMovement(),this.sidebarService.setTitle("myRequests")}},{key:"initForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.addAssetMovementForm=this.formBuilder.group({assetMovement:this.formBuilder.group({pk_asset_movementid:e.pk_asset_movementid,comment:[e.comment,S.r.compose([S.r.required])],date:[e.date,S.r.compose([S.r.required])],fk_nature_movementid:[e.fk_nature_movementid,S.r.compose([S.r.required])],fk_from_stationid:[e.fk_from_stationid,S.r.compose([S.r.required])],fk_to_stationid:[e.fk_to_stationid,S.r.compose([S.r.required])]}),asset:this.formBuilder.group({pk_assetid:t.pk_assetid,asset:[t.asset,S.r.compose([S.r.required])],fk_asset_typeid:[t.fk_asset_typeid,S.r.compose([S.r.required])],fk_asset_movementid:[t.fk_asset_movementid,S.r.compose([S.r.required])]})})}}]),t}()).\u0275fac=function(e){return new(e||ce)(d.Mb(S.b),d.Mb(l),d.Mb(H),d.Mb(s.b),d.Mb(x.a),d.Mb(p.a),d.Mb(s.a))},ce.\u0275cmp=d.Gb({type:ce,selectors:[["app-edit-asset-movement"]],decls:20,vars:8,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[3,"addAssetMovementForm"],["type","submit",1,"btn","btn-primary"],[3,"assets","updateAsset","deleteAsset"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"strong"),d.Hc(3,"Asset Movement"),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"form",3),d.cc("ngSubmit",(function(){return t.submit()})),d.Nb(6,"app-asset-form",4),d.Nb(7,"app-asset-movement-form",4),d.Nb(8,"br"),d.Rb(9,"button",5),d.Hc(10),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Nb(11,"br"),d.Rb(12,"div",0),d.Rb(13,"div",1),d.Rb(14,"strong"),d.Hc(15,"Vouchers"),d.Qb(),d.Nb(16,"app-asset-list",6),d.Qb(),d.Rb(17,"div",2),d.Rb(18,"button",7),d.cc("click",(function(){return t.navigateAssetMovementView()})),d.Hc(19," Submit "),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.zb(5),d.mc("formGroup",t.addAssetMovementForm),d.zb(1),d.mc("addAssetMovementForm",t.addAssetMovementForm),d.zb(1),d.mc("addAssetMovementForm",t.addAssetMovementForm),d.zb(3),d.Jc(" ",t.editMode?"Update Voucher":"update"," "),d.zb(6),d.mc("assets",t.assets)("updateAsset",t.updateAsset)("deleteAsset",t.deleteAsset),d.zb(2),d.mc("disabled",0===t.assets.length))},directives:[S.t,S.k,S.e,j,V,X],styles:[""]}),ce),me=[{path:"",component:r("jljr").a,children:[{path:"asset-movements",component:A},{path:"add-asset-movement",component:Y},{path:"edit-asset-movement/:id",component:de},{path:"asset-movement/:id",component:be}]}],le=((ae=function t(){e(this,t)}).\u0275mod=d.Kb({type:ae}),ae.\u0275inj=d.Jb({factory:function(e){return new(e||ae)},imports:[[s.f.forChild(me)],s.f]}),ae),fe=r("WM+C"),pe=((ue=function t(){e(this,t)}).\u0275mod=d.Kb({type:ue}),ue.\u0275inj=d.Jb({factory:function(e){return new(e||ue)},imports:[[c.b,le,S.o,fe.a,v.b]]}),ue)},XCuv:function(t,i,r){"use strict";r.r(i),r.d(i,"GocModule",(function(){return ne}));var o=r("ofXK"),c=r("tyNb"),s=r("NiRy"),a=r("Jdlf"),u=r("fXoL"),b=r("Mtp9"),d=r("a9NN"),m=r("4PCd"),l=r("njyG");function f(e,t){if(1&e){var n=u.Sb();u.Rb(0,"button",7),u.cc("click",(function(){return u.wc(n),u.gc().addGoc()})),u.Hc(1," New GOC "),u.Qb()}}function p(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",15),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).viewGoc(e.pk_gocid)})),u.Nb(1,"i",16),u.Qb()}}function v(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",17),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).editGoc(e.pk_gocid)})),u.Nb(1,"i",18),u.Qb()}}function h(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",19),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).deleteGoc(e.pk_gocid)})),u.Nb(1,"i",20),u.Qb()}}function g(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Hc(2),u.Qb(),u.Rb(3,"td"),u.Hc(4),u.Qb(),u.Rb(5,"td"),u.Hc(6),u.Qb(),u.Rb(7,"td",11),u.Fc(8,p,2,0,"span",12),u.Fc(9,v,2,0,"span",13),u.Fc(10,h,2,0,"span",14),u.Qb(),u.Qb()),2&e){var n=t.$implicit,i=u.gc(2);u.zb(2),u.Jc("TML/GOC ",n.pk_gocid,""),u.zb(2),u.Ic(n.comment),u.zb(2),u.Ic(n.date),u.zb(2),u.mc("ngIf",i.checkButton("view-goc")),u.zb(1),u.mc("ngIf",i.checkButton("edit-goc")),u.zb(1),u.mc("ngIf",i.checkButton("delete-goc"))}}function R(e,t){if(1&e&&(u.Rb(0,"table",8),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th"),u.Hc(4,"Ref ID"),u.Qb(),u.Rb(5,"th"),u.Hc(6,"Comment"),u.Qb(),u.Rb(7,"th"),u.Hc(8,"Date"),u.Qb(),u.Rb(9,"th",9),u.Hc(10,"Options"),u.Qb(),u.Qb(),u.Qb(),u.Rb(11,"tbody"),u.Fc(12,g,11,6,"tr",10),u.Qb(),u.Qb()),2&e){var n=u.gc();u.mc("dtOptions",n.dtOptions),u.zb(12),u.mc("ngForOf",n.gocs)}}var k,y,Q=((k=function(){function t(n,i,r,o){e(this,t),this.router=n,this.sidebarService=i,this.requestService=r,this.rolePermissionsState=o,this.dtOptions=a.a}return n(t,[{key:"getGocs",value:function(){var e=this;this.requestService.getRequests("gocs").then((function(t){e.gocs=t}),(function(e){}))}},{key:"viewGoc",value:function(e){this.router.navigate(["/goc",e])}},{key:"editGoc",value:function(e){this.router.navigate(["/edit-goc",e])}},{key:"deleteGoc",value:function(e){var t=this;this.requestService.deleteRequest(e,"gocs").then((function(e){t.getGocs()}),(function(e){}))}},{key:"addGoc",value:function(){this.router.navigate(["/add-goc"])}},{key:"checkButton",value:function(e){return Object(s.a)(this.rolePermissionsState,e)}},{key:"ngOnInit",value:function(){this.getGocs(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||k)(u.Mb(c.b),u.Mb(b.a),u.Mb(d.a),u.Mb(m.a))},k.\u0275cmp=u.Gb({type:k,selectors:[["app-gocs"]],decls:9,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered","datatable","",3,"dtOptions",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"GOC Requests"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"p",3),u.Fc(6,f,2,0,"button",4),u.Qb(),u.Rb(7,"div",5),u.Fc(8,R,13,2,"table",6),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(6),u.mc("ngIf",t.checkButton("add-goc")),u.zb(2),u.mc("ngIf",t.gocs))},directives:[o.l,l.a,o.k],styles:[""]}),k),w=r("mrSG"),M=r("3Pt+"),F=r("T2nI"),A=r("YqHM"),S=r("ChtM"),_=r("SYt/"),I=r("zSYW"),H=r("7o2P"),x=((y=function(){function t(n){e(this,t),this.commonService=n,this.endpoint="goc_amount/"}return n(t,[{key:"addGocAmount",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.post(t.endpoint,e).then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"getGocAmount",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.get(t.endpoint+e+"/").then((function(e){n(e)}),(function(e){i(e)}))}))}},{key:"editGocAmount",value:function(e,t){var n=this;return new Promise((function(i,r){n.commonService.update(n.endpoint+e+"/",t).then((function(e){i(e)}),(function(e){r(!1)}))}))}},{key:"deleteGocAmount",value:function(e){var t=this;return new Promise((function(n,i){t.commonService.delete(t.endpoint+e+"/").then((function(e){n(!0)}),(function(e){i(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||y)(u.Zb(H.a))},y.\u0275prov=u.Ib({token:y,factory:y.\u0275fac,providedIn:"root"}),y);function q(e,t){if(1&e){var n=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Hc(2),u.Qb(),u.Rb(3,"td",3),u.Rb(4,"span",4),u.cc("click",(function(){u.wc(n);var e=t.$implicit;return u.gc().edit(e.pk_goc_amountid)})),u.Nb(5,"i",5),u.Qb(),u.Rb(6,"span",6),u.cc("click",(function(){u.wc(n);var e=t.$implicit;return u.gc().delete(e.pk_goc_amountid)})),u.Nb(7,"i",7),u.Qb(),u.Qb(),u.Qb()}if(2&e){var i=t.$implicit;u.zb(2),u.Ic(i.goc_amount)}}var O,z=((O=function(){function t(){e(this,t),this.editGocAmountEvent=new u.n,this.deleteGocAmountEvent=new u.n}return n(t,[{key:"edit",value:function(e){this.editGocAmountEvent.emit(e)}},{key:"delete",value:function(e){this.deleteGocAmountEvent.emit(e)}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||O)},O.\u0275cmp=u.Gb({type:O,selectors:[["app-goc-amounts"]],inputs:{gocAmounts:"gocAmounts"},outputs:{editGocAmountEvent:"editGocAmountEvent",deleteGocAmountEvent:"deleteGocAmountEvent"},decls:9,vars:1,consts:[[1,"table","table-bordered","table-striped"],["width","80",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(u.Rb(0,"table",0),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th"),u.Hc(4,"Amount"),u.Qb(),u.Rb(5,"th",1),u.Hc(6,"Options"),u.Qb(),u.Qb(),u.Qb(),u.Rb(7,"tbody"),u.Fc(8,q,8,1,"tr",2),u.Qb(),u.Qb()),2&e&&(u.zb(8),u.mc("ngForOf",t.gocAmounts))},directives:[o.k],styles:[""]}),O);function G(e,t){if(1&e&&(u.Rb(0,"option",23),u.Hc(1),u.Qb()),2&e){var n=t.$implicit;u.nc("value",n.pk_projectid),u.zb(1),u.Jc(" ",n.project," ")}}var N,j=((N=function(){function t(n,i,r,o,c,s,a,u){e(this,t),this.formBuilder=n,this.router=i,this.sidebarService=r,this.currencyService=o,this.requestService=c,this.processService=s,this.projectService=a,this.gocAmountService=u,this.submitted=!1,this.amounts=[]}return n(t,[{key:"submit",value:function(){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.processId,e.t0){e.next=5;break}return e.next=4,Object(A.a)(F.a.AddGOC,this.processService);case 4:this.processId=e.sent;case 5:if(this.submitted=!0,this.gocForm.invalid){e.next=24;break}if(this.GocData={comment:this.gocForm.value.comment,fk_processid:this.processId},!this.goc){e.next=12;break}return e.next=10,this.updateGoc(this.gocForm.value.goc);case 10:e.next=15;break;case 12:return t=Object.assign(Object.assign({},this.gocForm.value.goc),{fk_processid:this.processId}),e.next=15,this.addGoc(t);case 15:if(!this.gocForm.value.gocAmount.pk_goc_amountid){e.next=21;break}return n=Object.assign(Object.assign({},this.gocForm.value.gocAmount),{fk_gocid:this.goc.pk_gocid}),e.next=19,this.updateGocAmount(n);case 19:e.next=23;break;case 21:return e.next=23,this.addAmount(Object.assign(Object.assign({},this.gocForm.value.gocAmount),{fk_gocid:this.goc.pk_gocid}));case 23:this.initForm(this.goc);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"addGoc",value:function(e){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.requestService.addRequest(e,"gocs");case 3:this.goc=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"updateGoc",value:function(e){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.requestService.editRequest(e.pk_gocid,e,"gocs");case 3:this.goc=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"updateGocAmount",value:function(e){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.gocAmountService.editGocAmount(e.pk_goc_amountid,e);case 3:n=t.sent,this.amounts.push(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addAmount",value:function(e){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,this.gocAmountService.addGocAmount(e);case 4:n=t.sent,this.amounts.push(n),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,this,[[1,8]])})))}},{key:"getProjects",value:function(){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.projectService.getProjects();case 3:this.projects=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"initForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gocForm=this.formBuilder.group({goc:this.formBuilder.group({pk_gocid:e.pk_gocid,fk_processid:e.fk_processid,fk_projectid:[e.fk_projectid,M.r.compose([M.r.required])],comment:[e.comment,M.r.compose([M.r.required])],date:[e.date,M.r.compose([M.r.required])]}),gocAmount:this.formBuilder.group({pk_goc_amountid:t.pk_goc_amountid,fk_gocid:t.fk_gocid,goc_amount:[t.goc_amount,M.r.compose([M.r.required])]})})}},{key:"editGocAmount",value:function(e){var t=this.amounts.findIndex((function(t){return t.pk_goc_amountid===e}));this.initForm(this.goc,this.amounts.splice(t,1)[0])}},{key:"deleteGocAmount",value:function(e){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.gocAmountService.deleteGocAmount(e);case 3:this.amounts=this.amounts.filter((function(t){return t.pk_goc_amountid!==e})),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"displaySubmit",value:function(){return this.amounts.length>0||this.gocForm.valid}},{key:"navigateToView",value:function(){this.router.navigate(["/goc",this.goc.pk_gocid])}},{key:"updateOrAdd",value:function(){var e=this.gocForm.value.gocAmount,t=e.goc_amount,n=e.pk_goc_amountid;return!!t&&!n}},{key:"ngOnInit",value:function(){this.sidebarService.setTitle("myRequests"),this.initForm(),this.getProjects()}},{key:"formValidation",get:function(){return this.gocForm.controls}}]),t}()).\u0275fac=function(e){return new(e||N)(u.Mb(M.b),u.Mb(c.b),u.Mb(b.a),u.Mb(S.a),u.Mb(d.a),u.Mb(_.a),u.Mb(I.a),u.Mb(x))},N.\u0275cmp=u.Gb({type:N,selectors:[["app-add-goc"]],decls:44,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],["formGroupName","goc"],[1,"form-group"],[1,"row"],[1,"col-lg-5","col-md-5","col-sm-12"],["for","projects"],["formControlName","fk_projectid","id","projects",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","date"],["type","date","formControlName","date","id","date",1,"form-control"],[1,"col-lg-10","col-md-10","col-sm-12"],["for","commentFor"],["type","text","id","commentFor","placeholder","Reason for grant of credit . . . ","rows","5","formControlName","comment",1,"form-control"],["formGroupName","gocAmount",1,"form-group"],["for",""],["type","number","formControlName","goc_amount",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[3,"gocAmounts","deleteGocAmountEvent","editGocAmountEvent"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"GOC"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"form",3),u.cc("ngSubmit",(function(){return t.submit()})),u.Rb(6,"div",4),u.Rb(7,"div",5),u.Rb(8,"div",6),u.Rb(9,"div",7),u.Rb(10,"label",8),u.Hc(11,"projects"),u.Qb(),u.Rb(12,"select",9),u.Fc(13,G,2,2,"option",10),u.Qb(),u.Qb(),u.Rb(14,"div",7),u.Rb(15,"div",5),u.Rb(16,"label",11),u.Hc(17,"Date"),u.Qb(),u.Nb(18,"input",12),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(19,"div",5),u.Rb(20,"div",6),u.Rb(21,"div",13),u.Rb(22,"label",14),u.Hc(23,"Reason"),u.Qb(),u.Nb(24,"textarea",15),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(25,"div",16),u.Rb(26,"div",6),u.Rb(27,"div",13),u.Rb(28,"label",17),u.Hc(29,"Amount"),u.Qb(),u.Nb(30,"input",18),u.Qb(),u.Qb(),u.Qb(),u.Rb(31,"button",19),u.Hc(32),u.Qb(),u.Rb(33,"button",20),u.Hc(34,"Cancel"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Nb(35,"br"),u.Rb(36,"div",0),u.Rb(37,"div",1),u.Rb(38,"strong"),u.Hc(39,"Vouchers"),u.Qb(),u.Rb(40,"app-goc-amounts",21),u.cc("deleteGocAmountEvent",(function(e){return t.deleteGocAmount(e)}))("editGocAmountEvent",(function(e){return t.editGocAmount(e)})),u.Qb(),u.Qb(),u.Rb(41,"div",2),u.Rb(42,"button",22),u.cc("click",(function(){return t.navigateToView()})),u.Hc(43," Submit "),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(5),u.mc("formGroup",t.gocForm),u.zb(8),u.mc("ngForOf",t.projects),u.zb(18),u.mc("disabled",!t.displaySubmit()),u.zb(1),u.Jc(" ",t.updateOrAdd()?"add":"update"," "),u.zb(1),u.mc("routerLink","/gocs"),u.zb(7),u.mc("gocAmounts",t.amounts),u.zb(2),u.mc("disabled",0===t.amounts.length))},directives:[M.t,M.k,M.e,M.f,M.q,M.j,M.d,o.k,M.a,M.m,c.c,z,M.l,M.s],styles:[""]}),N),C=r("Dsut"),P=r("m4K9"),D=r.n(P),B=r("DaQG"),J=r.n(B),T=r("hE/2");function V(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td",2),u.Hc(2),u.Qb(),u.Qb()),2&e){var n=t.$implicit;u.zb(2),u.Ic(n.goc_amount)}}var $,E=(($=function(){function t(n,i,r,o){e(this,t),this.router=n,this.requestService=i,this.activatedRoute=r,this.sidebarService=o,this.downloadPDF=function(){var e=new D.a("p","pt");e.text("GOC details Details",35,20),J()(e,{html:"#table"}),J()(e,{html:"#table-2"}),e.save("GOC_Details-".concat(Date.now(),".pdf"))},this.gocId=r.snapshot.params.id,this.initializeGoc()}return n(t,[{key:"getRequest",value:function(){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.goc.fk_processid,"&workflowid=").concat(this.gocId));case 3:t=e.sent,this.request=t[0],this.processId=this.goc.fk_processid,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getGoc",value:function(e){var t=this;this.requestService.getRequest(e,"gocs").then((function(e){t.goc=e,t.getRequest(),t.initializeGoc()}),(function(e){}))}},{key:"initializeGoc",value:function(){null==this.goc&&(this.goc=new C.d,this.goc.comment=null)}},{key:"ngOnInit",value:function(){this.getGoc(this.gocId),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||$)(u.Mb(c.b),u.Mb(d.a),u.Mb(c.a),u.Mb(b.a))},$.\u0275cmp=u.Gb({type:$,selectors:[["app-goc"]],decls:25,vars:8,consts:[[3,"title","processId","workflowid","downloadButtonClicked"],["id","table",1,"table","table-borderless","table-responsive"],["scope","row"],["id","#table-2'",1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.Rb(0,"app-view-card",0),u.Rb(1,"table",1),u.Rb(2,"tbody"),u.Rb(3,"tr"),u.Rb(4,"th",2),u.Hc(5,"Requested by :"),u.Qb(),u.Rb(6,"td"),u.Hc(7),u.Qb(),u.Qb(),u.Rb(8,"tr"),u.Rb(9,"th",2),u.Hc(10,"Reason :"),u.Qb(),u.Rb(11,"td"),u.Hc(12),u.Qb(),u.Qb(),u.Rb(13,"tr"),u.Rb(14,"th",2),u.Hc(15,"Date :"),u.Qb(),u.Rb(16,"td"),u.Hc(17),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(18,"table",3),u.Rb(19,"thead"),u.Rb(20,"tr"),u.Rb(21,"th"),u.Hc(22,"Amount"),u.Qb(),u.Qb(),u.Qb(),u.Rb(23,"tbody"),u.Fc(24,V,3,1,"tr",4),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.mc("title","GOC Details")("processId",t.goc&&t.goc.fk_processid)("workflowid",t.gocId)("downloadButtonClicked",t.downloadPDF),u.zb(7),u.Jc(" ",t.request&&t.request.profile.user.first_name+" "+t.request.profile.user.last_name," "),u.zb(5),u.Ic(t.goc.comment),u.zb(5),u.Ic(t.goc.date),u.zb(7),u.mc("ngForOf",t.goc.gocAmounts))},directives:[T.a,o.k],styles:[""]}),$),L=r("2ilu");function K(e,t){if(1&e&&(u.Rb(0,"option",18),u.Hc(1),u.Qb()),2&e){var n=t.$implicit;u.nc("value",n.pk_projectid),u.zb(1),u.Jc(" ",n.project," ")}}var X,Y,W,Z=((X=function(){function t(n,i,r,o,c,s,a){e(this,t),this.formBuilder=n,this.router=i,this.sidebarService=r,this.currencyService=o,this.requestService=c,this.activatedRoute=s,this.projectService=a,this.submitted=!1,this.gocId=s.snapshot.params.id,this.initializeGocForm()}return n(t,[{key:"getGoc",value:function(e){var t=this;this.requestService.getRequest(e,"gocs").then((function(e){t.goc=e,t.initializeGocForm()}),(function(e){}))}},{key:"getCurrencies",value:function(){var e=this;this.currencyService.getCurrencies().then((function(t){e.currencies=t}),(function(e){}))}},{key:"editGoc",value:function(){var e=this;this.submitted=!0,this.gocForm.invalid||(this.gocData={comment:this.gocForm.value.comment},this.requestService.editRequest(this.gocId,this.gocData,"gocs").then((function(t){e.router.navigate(["/gocs"])}),(function(e){})))}},{key:"getProjects",value:function(){return Object(w.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.projectService.getProjects();case 3:this.projects=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"initializeGocForm",value:function(){null==this.goc&&(this.goc=new C.d,this.goc.comment=null,this.goc.fk_projectid=new L.a,this.goc.fk_projectid=null,this.goc.date=null),this.gocForm=this.formBuilder.group({comment:[this.goc.comment,M.r.compose([M.r.required])],fk_projectid:[this.goc.fk_projectid,M.r.compose([M.r.required])],date:[this.goc.date,M.r.compose([M.r.required])]})}},{key:"ngOnInit",value:function(){this.getCurrencies(),this.getGoc(this.gocId),this.sidebarService.setTitle("myRequests"),this.getProjects()}},{key:"formValidation",get:function(){return this.gocForm.controls}}]),t}()).\u0275fac=function(e){return new(e||X)(u.Mb(M.b),u.Mb(c.b),u.Mb(b.a),u.Mb(S.a),u.Mb(d.a),u.Mb(c.a),u.Mb(I.a))},X.\u0275cmp=u.Gb({type:X,selectors:[["app-edit-goc"]],decls:29,vars:4,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],["formGroupName","goc"],[1,"form-group"],[1,"row"],[1,"col-lg-5","col-md-5","col-sm-12"],["for","projects"],["formControlName","fk_projectid","id","projects",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","date"],["type","date","formControlName","date","id","date",1,"form-control"],[1,"col-lg-10","col-md-10","col-sm-12"],["for","commentFor"],["type","text","id","commentFor","placeholder","Reason for grant of credit . . . ","rows","5","formControlName","comment",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[3,"value"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"Grant of Credit"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"form",3),u.cc("ngSubmit",(function(){return t.editGoc()})),u.Rb(6,"div",4),u.Rb(7,"div",5),u.Rb(8,"div",6),u.Rb(9,"div",7),u.Rb(10,"label",8),u.Hc(11,"projects"),u.Qb(),u.Rb(12,"select",9),u.Fc(13,K,2,2,"option",10),u.Qb(),u.Qb(),u.Rb(14,"div",7),u.Rb(15,"div",5),u.Rb(16,"label",11),u.Hc(17,"Date"),u.Qb(),u.Nb(18,"input",12),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(19,"div",5),u.Rb(20,"div",6),u.Rb(21,"div",13),u.Rb(22,"label",14),u.Hc(23,"Reason"),u.Qb(),u.Nb(24,"textarea",15),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(25,"button",16),u.Hc(26,"Submit"),u.Qb(),u.Rb(27,"button",17),u.Hc(28,"Cancel"),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(5),u.mc("formGroup",t.gocForm),u.zb(8),u.mc("ngForOf",t.projects),u.zb(12),u.mc("disabled",!t.gocForm.valid),u.zb(2),u.mc("routerLink","/gocs"))},directives:[M.t,M.k,M.e,M.f,M.q,M.j,M.d,o.k,M.a,c.c,M.l,M.s],styles:[""]}),X),U=[{path:"",component:r("jljr").a,children:[{path:"gocs",component:Q},{path:"add-goc",component:j},{path:"edit-goc/:id",component:Z},{path:"goc/:id",component:E}]}],ee=((Y=function t(){e(this,t)}).\u0275mod=u.Kb({type:Y}),Y.\u0275inj=u.Jb({factory:function(e){return new(e||Y)},imports:[[c.f.forChild(U)],c.f]}),Y),te=r("WM+C"),ne=((W=function t(){e(this,t)}).\u0275mod=u.Kb({type:W}),W.\u0275inj=u.Jb({factory:function(e){return new(e||W)},imports:[[o.b,M.o,ee,te.a,l.b]]}),W)},"lcp/":function(t,i,r){"use strict";r.r(i),r.d(i,"AfpModule",(function(){return ee}));var o=r("ofXK"),c=r("tyNb"),s=r("NiRy"),a=r("Jdlf"),u=r("fXoL"),b=r("Mtp9"),d=r("a9NN"),m=r("4PCd"),l=r("njyG");function f(e,t){if(1&e){var n=u.Sb();u.Rb(0,"button",7),u.cc("click",(function(){return u.wc(n),u.gc().addAFP()})),u.Hc(1," New AFP "),u.Qb()}}function p(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",15),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).viewAfp(e.pk_afpid)})),u.Nb(1,"i",16),u.Qb()}}function v(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",17),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).editAfp(e.pk_afpid)})),u.Nb(1,"i",18),u.Qb()}}function h(e,t){if(1&e){var n=u.Sb();u.Rb(0,"span",19),u.cc("click",(function(){u.wc(n);var e=u.gc().$implicit;return u.gc(2).deleteAfp(e.pk_afpid)})),u.Nb(1,"i",20),u.Qb()}}function g(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Hc(2),u.Qb(),u.Rb(3,"td"),u.Hc(4),u.Qb(),u.Rb(5,"td"),u.Hc(6),u.Qb(),u.Rb(7,"td"),u.Hc(8),u.Qb(),u.Rb(9,"td",11),u.Fc(10,p,2,0,"span",12),u.Fc(11,v,2,0,"span",13),u.Fc(12,h,2,0,"span",14),u.Qb(),u.Qb()),2&e){var n=t.$implicit,i=u.gc(2);u.zb(2),u.Jc("TML/AFP ",n.pk_afpid,""),u.zb(2),u.Ic(n.amount),u.zb(2),u.Ic(n.comment),u.zb(2),u.Ic(n.date),u.zb(2),u.mc("ngIf",i.checkButton("view-afp")),u.zb(1),u.mc("ngIf",i.checkButton("edit-afp")),u.zb(1),u.mc("ngIf",i.checkButton("edit-afp"))}}function R(e,t){if(1&e&&(u.Rb(0,"table",8),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th"),u.Hc(4,"Ref ID"),u.Qb(),u.Rb(5,"th"),u.Hc(6,"Amount By"),u.Qb(),u.Rb(7,"th"),u.Hc(8,"Comment"),u.Qb(),u.Rb(9,"th"),u.Hc(10,"Date"),u.Qb(),u.Rb(11,"th",9),u.Hc(12,"Options"),u.Qb(),u.Qb(),u.Qb(),u.Rb(13,"tbody"),u.Fc(14,g,13,7,"tr",10),u.Qb(),u.Qb()),2&e){var n=u.gc();u.mc("dtOptions",n.dtOptions),u.zb(14),u.mc("ngForOf",n.afps)}}var k,y=((k=function(){function t(n,i,r,o){e(this,t),this.router=n,this.sidebarService=i,this.requestService=r,this.rolePermissionsState=o,this.dtOptions=a.a}return n(t,[{key:"getAfps",value:function(){var e=this;this.requestService.getRequests("afps").then((function(t){e.afps=t}),(function(e){}))}},{key:"viewAfp",value:function(e){this.router.navigate(["/afp",e])}},{key:"editAfp",value:function(e){this.router.navigate(["/edit-afp",e])}},{key:"deleteAfp",value:function(e){var t=this;this.requestService.deleteRequest(e,"afps").then((function(e){t.getAfps()}),(function(e){}))}},{key:"addAFP",value:function(){this.router.navigate(["/add-afp"])}},{key:"checkButton",value:function(e){return Object(s.a)(this.rolePermissionsState,e)}},{key:"ngOnInit",value:function(){this.getAfps(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||k)(u.Mb(c.b),u.Mb(b.a),u.Mb(d.a),u.Mb(m.a))},k.\u0275cmp=u.Gb({type:k,selectors:[["app-afps"]],decls:9,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered","datatable","",3,"dtOptions",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"AFP Requests"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"p",3),u.Fc(6,f,2,0,"button",4),u.Qb(),u.Rb(7,"div",5),u.Fc(8,R,15,2,"table",6),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(6),u.mc("ngIf",t.checkButton("add-afp")),u.zb(2),u.mc("ngIf",t.afps))},directives:[o.l,l.a,o.k],styles:[""]}),k),Q=r("mrSG"),w=r("3Pt+"),M=r("YqHM"),F=r("T2nI"),A=r("ChtM"),S=r("SYt/");function _(e,t){if(1&e&&(u.Rb(0,"option",19),u.Hc(1),u.Qb()),2&e){var n=t.$implicit;u.nc("value",n.pk_currencyid),u.zb(1),u.Jc(" ",n.code," ")}}function I(e,t){1&e&&(u.Rb(0,"div",20),u.Hc(1," Currency is required "),u.Qb())}function H(e,t){1&e&&(u.Rb(0,"div",20),u.Hc(1," Amount is required "),u.Qb())}function x(e,t){1&e&&(u.Rb(0,"div",20),u.Hc(1," Comment is required "),u.Qb())}var q,O,z=((q=function(){function t(n,i,r,o,c,s){e(this,t),this.formBuilder=n,this.router=i,this.sidebarService=r,this.currencyService=o,this.requestService=c,this.processService=s,this.submitted=!1}return n(t,[{key:"getCurrencies",value:function(){var e=this;this.currencyService.getCurrencies().then((function(t){e.currencies=t}),(function(e){}))}},{key:"addAfp",value:function(){return Object(Q.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.submitted=!0,e.next=3,Object(M.a)(F.a.AddAFP,this.processService);case 3:if(this.processId=e.sent,this.afpForm.invalid){e.next=7;break}t=this.afpForm.value,this.afpData={fk_currencyid:t.currency,amount:t.amount,comment:t.comment,fk_processid:this.processId},this.requestService.addRequest(this.afpData,"afps").then((function(e){n.afp=e,n.router.navigate(["/afp",n.afp.pk_afpid])}),(function(e){}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){this.getCurrencies(),this.afpForm=this.formBuilder.group({currency:["",w.r.compose([w.r.required])],amount:["",w.r.compose([w.r.required])],comment:["",w.r.compose([w.r.required])]}),this.sidebarService.setTitle("myRequests")}},{key:"formValidation",get:function(){return this.afpForm.controls}}]),t}()).\u0275fac=function(e){return new(e||q)(u.Mb(w.b),u.Mb(c.b),u.Mb(b.a),u.Mb(A.a),u.Mb(d.a),u.Mb(S.a))},q.\u0275cmp=u.Gb({type:q,selectors:[["app-add-afp"]],decls:30,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-2"],["for","currencyInput"],["type","currency","formControlName","currency",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger small",4,"ngIf"],[1,"col-8"],["for","amountInput"],["type","number","formControlName","amount","placeholder","Amount",1,"form-control"],[1,"col-10"],["for","paymentFor"],["type","password","id","paymentFor","placeholder","Payment description . . . ","rows","5","formControlName","comment",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[3,"value"],[1,"text-danger","small"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"AFP Details"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"form",3),u.cc("ngSubmit",(function(){return t.addAfp()})),u.Rb(6,"div",4),u.Rb(7,"div",5),u.Rb(8,"div",6),u.Rb(9,"label",7),u.Hc(10,"Currency"),u.Qb(),u.Rb(11,"select",8),u.Fc(12,_,2,2,"option",9),u.Qb(),u.Fc(13,I,2,0,"div",10),u.Qb(),u.Rb(14,"div",11),u.Rb(15,"label",12),u.Hc(16,"Amount"),u.Qb(),u.Nb(17,"input",13),u.Fc(18,H,2,0,"div",10),u.Qb(),u.Qb(),u.Qb(),u.Rb(19,"div",4),u.Rb(20,"div",5),u.Rb(21,"div",14),u.Rb(22,"label",15),u.Hc(23,"Payment for"),u.Qb(),u.Nb(24,"textarea",16),u.Fc(25,x,2,0,"div",10),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"button",17),u.Hc(27," Submit "),u.Qb(),u.Rb(28,"button",18),u.Hc(29,"Cancel"),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(5),u.mc("formGroup",t.afpForm),u.zb(7),u.mc("ngForOf",t.currencies),u.zb(1),u.mc("ngIf",t.submitted&&t.formValidation.currency.errors),u.zb(5),u.mc("ngIf",t.submitted&&t.formValidation.amount.errors),u.zb(7),u.mc("ngIf",t.submitted&&t.formValidation.comment.errors),u.zb(1),u.mc("disabled",!t.afpForm.valid),u.zb(2),u.mc("routerLink","/afps"))},directives:[w.t,w.k,w.e,w.q,w.j,w.d,o.k,o.l,w.m,w.a,c.c,w.l,w.s],styles:[""]}),q),G=r("Dsut"),N=r("Xv6/"),j=r("m4K9"),C=r.n(j),P=r("DaQG"),D=r.n(P),B=r("hE/2"),J=((O=function(){function t(n,i,r,o){e(this,t),this.router=n,this.requestService=i,this.activatedRoute=r,this.sidebarService=o,this.downloadPDF=function(){var e=new C.a("p","pt");e.text("AFP Details",35,20),D()(e,{html:"#table"}),e.save("afp-details-".concat(Date.now(),".pdf"))},this.afpId=r.snapshot.params.id,this.initializeAfp()}return n(t,[{key:"getRequest",value:function(){return Object(Q.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.afp.fk_processid,"&workflowid=").concat(this.afpId));case 3:t=e.sent,this.request=t[0],e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getAfp",value:function(e){var t=this;this.requestService.getRequest(e,"afps").then((function(e){t.afp=e,t.getRequest(),t.initializeAfp()}),(function(e){}))}},{key:"initializeAfp",value:function(){null==this.afp&&(this.afp=new G.a,this.afp.amount=null,this.afp.comment=null,this.afp.currencyid=new N.a,this.afp.currencyid.code=null)}},{key:"ngOnInit",value:function(){this.getAfp(this.afpId),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||O)(u.Mb(c.b),u.Mb(d.a),u.Mb(c.a),u.Mb(b.a))},O.\u0275cmp=u.Gb({type:O,selectors:[["app-afp"]],decls:25,vars:8,consts:[[3,"title","processId","workflowid","downloadButtonClicked"],["id","table",1,"table","table-borderless","table-responsive"],["scope","row"],["scope","row","width","150"]],template:function(e,t){1&e&&(u.Rb(0,"app-view-card",0),u.Rb(1,"table",1),u.Rb(2,"tbody"),u.Rb(3,"tr"),u.Rb(4,"th",2),u.Hc(5,"Initiated by :"),u.Qb(),u.Rb(6,"td"),u.Hc(7),u.Qb(),u.Qb(),u.Rb(8,"tr"),u.Rb(9,"th",3),u.Hc(10,"Amount :"),u.Qb(),u.Rb(11,"td"),u.Rb(12,"strong"),u.Hc(13),u.Qb(),u.Hc(14),u.Qb(),u.Qb(),u.Rb(15,"tr"),u.Rb(16,"th",2),u.Hc(17,"Comment :"),u.Qb(),u.Rb(18,"td"),u.Hc(19),u.Qb(),u.Qb(),u.Rb(20,"tr"),u.Rb(21,"th",2),u.Hc(22,"Date :"),u.Qb(),u.Rb(23,"td"),u.Hc(24,"03 July 2020"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.mc("title","AFP details")("processId",t.afp&&t.afp.fk_processid)("workflowid",t.afpId)("downloadButtonClicked",t.downloadPDF),u.zb(7),u.Jc(" ",t.request&&t.request.profile.user.first_name+" "+t.request.profile.user.last_name," "),u.zb(6),u.Ic(t.afp.currencyid.code),u.zb(1),u.Jc(" ",t.afp.amount," "),u.zb(5),u.Ic(t.afp.comment))},directives:[B.a],styles:[""]}),O);function T(e,t){if(1&e&&(u.Rb(0,"option",19),u.Hc(1),u.Qb()),2&e){var n=t.$implicit;u.nc("value",n.pk_currencyid),u.zb(1),u.Ic(n.code)}}function V(e,t){1&e&&(u.Rb(0,"div",20),u.Hc(1,"Currency is required"),u.Qb())}function $(e,t){1&e&&(u.Rb(0,"div",20),u.Hc(1,"Amount is required"),u.Qb())}function E(e,t){1&e&&(u.Rb(0,"div",20),u.Hc(1,"Comment is required"),u.Qb())}var L,K,X,Y=((L=function(){function t(n,i,r,o,c,s){e(this,t),this.formBuilder=n,this.router=i,this.sidebarService=r,this.currencyService=o,this.requestService=c,this.activatedRoute=s,this.submitted=!1,this.afpId=s.snapshot.params.id,this.initializeAfpForm()}return n(t,[{key:"getAfp",value:function(e){var t=this;this.requestService.getRequest(e,"afps").then((function(e){t.afp=e,t.initializeAfpForm()}),(function(e){}))}},{key:"getCurrencies",value:function(){var e=this;this.currencyService.getCurrencies().then((function(t){e.currencies=t}),(function(e){}))}},{key:"editAfp",value:function(){var e=this;if(this.submitted=!0,!this.afpForm.invalid){var t=this.afpForm.value;this.afpData={fk_currencyid:t.code,amount:t.amount,comment:t.comment},this.requestService.editRequest(this.afpId,this.afpData,"afps").then((function(t){e.router.navigate(["/afps"])}),(function(e){}))}}},{key:"initializeAfpForm",value:function(){null==this.afp&&(this.afp=new G.a,this.afp.amount=null,this.afp.comment=null,this.afp.currencyid=new N.a,this.afp.currencyid.code=null),this.afpForm=this.formBuilder.group({code:[this.afp.currencyid.pk_currencyid,w.r.compose([w.r.required])],amount:[this.afp.amount,w.r.compose([w.r.required])],comment:[this.afp.comment,w.r.compose([w.r.required])]})}},{key:"ngOnInit",value:function(){this.getCurrencies(),this.getAfp(this.afpId),this.sidebarService.setTitle("myRequests")}},{key:"formValidation",get:function(){return this.afpForm.controls}}]),t}()).\u0275fac=function(e){return new(e||L)(u.Mb(w.b),u.Mb(c.b),u.Mb(b.a),u.Mb(A.a),u.Mb(d.a),u.Mb(c.a))},L.\u0275cmp=u.Gb({type:L,selectors:[["app-edit-afp"]],decls:30,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-2"],["for","currencyInput"],["type","currency","formControlName","code",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger small",4,"ngIf"],[1,"col-8"],["for","amountInput"],["type","text","formControlName","amount","placeholder","Amount",1,"form-control"],[1,"col-10"],["for","paymentFor"],["type","password","id","paymentFor","placeholder","Payment description . . . ","rows","5","formControlName","comment",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[3,"value"],[1,"text-danger","small"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"strong"),u.Hc(3,"AFP Details"),u.Qb(),u.Qb(),u.Rb(4,"div",2),u.Rb(5,"form",3),u.cc("ngSubmit",(function(){return t.editAfp()})),u.Rb(6,"div",4),u.Rb(7,"div",5),u.Rb(8,"div",6),u.Rb(9,"label",7),u.Hc(10,"Currency"),u.Qb(),u.Rb(11,"select",8),u.Fc(12,T,2,2,"option",9),u.Qb(),u.Fc(13,V,2,0,"div",10),u.Qb(),u.Rb(14,"div",11),u.Rb(15,"label",12),u.Hc(16,"Amount"),u.Qb(),u.Nb(17,"input",13),u.Fc(18,$,2,0,"div",10),u.Qb(),u.Qb(),u.Qb(),u.Rb(19,"div",4),u.Rb(20,"div",5),u.Rb(21,"div",14),u.Rb(22,"label",15),u.Hc(23,"Payment for"),u.Qb(),u.Nb(24,"textarea",16),u.Fc(25,E,2,0,"div",10),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"button",17),u.Hc(27,"Submit"),u.Qb(),u.Rb(28,"button",18),u.Hc(29,"Cancel"),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.zb(5),u.mc("formGroup",t.afpForm),u.zb(7),u.mc("ngForOf",t.currencies),u.zb(1),u.mc("ngIf",t.submitted&&t.formValidation.code.errors),u.zb(5),u.mc("ngIf",t.submitted&&t.formValidation.amount.errors),u.zb(7),u.mc("ngIf",t.submitted&&t.formValidation.comment.errors),u.zb(1),u.mc("disabled",!t.afpForm.valid),u.zb(2),u.mc("routerLink","/afps"))},directives:[w.t,w.k,w.e,w.q,w.j,w.d,o.k,o.l,w.a,c.c,w.l,w.s],styles:[""]}),L),W=[{path:"",component:r("jljr").a,children:[{path:"afps",component:y},{path:"add-afp",component:z},{path:"edit-afp/:id",component:Y},{path:"afp/:id",component:J}]}],Z=((K=function t(){e(this,t)}).\u0275mod=u.Kb({type:K}),K.\u0275inj=u.Jb({factory:function(e){return new(e||K)},imports:[[c.f.forChild(W)],c.f]}),K),U=r("WM+C"),ee=((X=function t(){e(this,t)}).\u0275mod=u.Kb({type:X}),X.\u0275inj=u.Jb({factory:function(e){return new(e||X)},imports:[[o.b,w.o,Z,U.a,l.b]]}),X)},ra4X:function(t,n,i){"use strict";i.r(n),i.d(n,"FinanceModule",(function(){return v}));var r,o,c=i("ofXK"),s=i("3Pt+"),a=i("tyNb"),u=i("fXoL"),b=[{path:"",loadChildren:function(){return Promise.resolve().then(i.bind(null,"lcp/")).then((function(e){return e.AfpModule}))}},{path:"",loadChildren:function(){return Promise.resolve().then(i.bind(null,"5SKk")).then((function(e){return e.FuelModule}))}},{path:"",loadChildren:function(){return Promise.resolve().then(i.bind(null,"XCuv")).then((function(e){return e.GocModule}))}},{path:"",loadChildren:function(){return i.e(25).then(i.bind(null,"0Ol4")).then((function(e){return e.PayableWaiverModule}))}},{path:"",loadChildren:function(){return Promise.resolve().then(i.bind(null,"5oCR")).then((function(e){return e.AssetMovementModule}))}},{path:"",loadChildren:function(){return i.e(23).then(i.bind(null,"VSe1")).then((function(e){return e.ExpenseSheetModule}))}},{path:"",loadChildren:function(){return i.e(22).then(i.bind(null,"8J0v")).then((function(e){return e.AssetDisposalModule}))}},{path:"",loadChildren:function(){return i.e(24).then(i.bind(null,"v89z")).then((function(e){return e.ManualJournalRequestModule}))}}],d=((r=function t(){e(this,t)}).\u0275mod=u.Kb({type:r}),r.\u0275inj=u.Jb({factory:function(e){return new(e||r)},imports:[[a.f.forChild(b)],a.f]}),r),m=i("lcp/"),l=i("XCuv"),f=i("5SKk"),p=i("5oCR"),v=((o=function t(){e(this,t)}).\u0275mod=u.Kb({type:o}),o.\u0275inj=u.Jb({factory:function(e){return new(e||o)},imports:[[c.b,d,m.AfpModule,l.GocModule,f.FuelModule,p.AssetMovementModule,s.o]]}),o)}}])}();