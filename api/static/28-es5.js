!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"1MBb":function(t,r,n){"use strict";n.r(r),n.d(r,"OvertimeModule",(function(){return ie}));var o=n("ofXK"),a=n("tyNb"),c=n("NiRy"),s=n("Jdlf"),d=n("fXoL"),m=n("Mtp9"),b=n("a9NN"),v=n("4PCd"),u=n("njyG");function l(e,t){if(1&e){var i=d.Sb();d.Rb(0,"button",7),d.cc("click",(function(){return d.wc(i),d.gc().addOvertime()})),d.Hc(1," New Overtime "),d.Qb()}}function p(e,t){if(1&e){var i=d.Sb();d.Rb(0,"span",13),d.cc("click",(function(){d.wc(i);var e=d.gc().$implicit;return d.gc(2).viewOvertime(e.pk_overtimeid)})),d.Nb(1,"i",14),d.Qb()}}function f(e,t){if(1&e&&(d.Rb(0,"tr"),d.Rb(1,"td"),d.Hc(2),d.Qb(),d.Rb(3,"td"),d.Hc(4),d.Qb(),d.Rb(5,"td"),d.Hc(6),d.Qb(),d.Rb(7,"td"),d.Hc(8),d.Qb(),d.Rb(9,"td",11),d.Fc(10,p,2,0,"span",12),d.Qb(),d.Qb()),2&e){var i=t.$implicit,r=d.gc(2);d.zb(2),d.Jc("TML/OT ",i.pk_overtimeid,""),d.zb(2),d.Ic(i.pk_overtimeid),d.zb(2),d.Ic(i.pk_overtimeid),d.zb(2),d.Ic(i.pk_overtimeid),d.zb(2),d.mc("ngIf",r.checkButton("view-overtime"))}}function h(e,t){if(1&e&&(d.Rb(0,"table",8),d.Rb(1,"thead"),d.Rb(2,"tr"),d.Rb(3,"th"),d.Hc(4,"Ref ID"),d.Qb(),d.Rb(5,"th"),d.Hc(6,"Overtime"),d.Qb(),d.Rb(7,"th"),d.Hc(8,"Overtime"),d.Qb(),d.Rb(9,"th"),d.Hc(10,"Date"),d.Qb(),d.Rb(11,"th",9),d.Hc(12,"Options"),d.Qb(),d.Qb(),d.Qb(),d.Rb(13,"tbody"),d.Fc(14,f,11,5,"tr",10),d.Qb(),d.Qb()),2&e){var i=d.gc();d.mc("dtOptions",i.dtOptions),d.zb(14),d.mc("ngForOf",i.overtimes)}}var R,g,y,k=((R=function(){function t(i,r,n,o){e(this,t),this.router=i,this.sidebarService=r,this.requestService=n,this.rolePermissionsState=o,this.dtOptions=s.a}return i(t,[{key:"getOvertimes",value:function(){var e=this;this.requestService.getRequests("overtimes").then((function(t){e.overtimes=t}),(function(e){}))}},{key:"addOvertime",value:function(){this.router.navigate(["/add-overtime"])}},{key:"viewOvertime",value:function(e){this.router.navigate(["/overtime",e])}},{key:"editOvertime",value:function(e){this.router.navigate(["/edit-overtime",e])}},{key:"deleteOvertime",value:function(e){var t=this;this.requestService.deleteRequest(e,"overtimes").then((function(e){t.getOvertimes()}),(function(e){}))}},{key:"checkButton",value:function(e){return Object(c.a)(this.rolePermissionsState,e)}},{key:"ngOnInit",value:function(){this.getOvertimes(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||R)(d.Mb(a.b),d.Mb(m.a),d.Mb(b.a),d.Mb(v.a))},R.\u0275cmp=d.Gb({type:R,selectors:[["app-overtimes"]],decls:9,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered","datatable","",3,"dtOptions",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"strong"),d.Hc(3,"Overtime Requests"),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"p",3),d.Fc(6,l,2,0,"button",4),d.Qb(),d.Rb(7,"div",5),d.Fc(8,h,15,2,"table",6),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.zb(6),d.mc("ngIf",t.checkButton("add-overtime")),d.zb(2),d.mc("ngIf",t.overtimes))},directives:[o.l,u.a,o.k],styles:[""]}),R),O=n("mrSG"),Q=n("3Pt+"),D=n("YqHM"),w=n("T2nI"),_=n("7o2P"),S=((y=function(){function t(i){e(this,t),this.commonService=i,this.endpoint="overtimes/"}return i(t,[{key:"addOvertime",value:function(e){var t=this;return new Promise((function(i,r){t.commonService.post(t.endpoint,e).then((function(e){i(e)}),(function(e){r(e)}))}))}},{key:"getOvertimes",value:function(){var e=this;return new Promise((function(t,i){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){i(e)}))}))}},{key:"getOvertime",value:function(e){var t=this;return new Promise((function(i,r){t.commonService.get(t.endpoint+e+"/").then((function(e){i(e)}),(function(e){r(e)}))}))}},{key:"editOvertime",value:function(e,t){var i=this;return new Promise((function(r,n){i.commonService.update(i.endpoint+e+"/",t).then((function(e){r(e)}),(function(e){n(!1)}))}))}},{key:"deleteOvertime",value:function(e){var t=this;return new Promise((function(i,r){t.commonService.delete(t.endpoint+e+"/").then((function(e){i(!0)}),(function(e){r(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||y)(d.Zb(_.a))},y.\u0275prov=d.Ib({token:y,factory:y.\u0275fac,providedIn:"root"}),y),H=((g=function(){function t(i){e(this,t),this.commonService=i,this.endpoint="overtime_details/"}return i(t,[{key:"addOvertimeDetail",value:function(e){var t=this;return new Promise((function(i,r){t.commonService.post(t.endpoint,e).then((function(e){i(e)}),(function(e){r(e)}))}))}},{key:"getOvertimeDetails",value:function(){var e=this;return new Promise((function(t,i){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){i(e)}))}))}},{key:"getOvertimeDetail",value:function(e){var t=this;return new Promise((function(i,r){t.commonService.get(t.endpoint+e+"/").then((function(e){i(e)}),(function(e){r(e)}))}))}},{key:"editOvertimeDetail",value:function(e,t){var i=this;return new Promise((function(r,n){i.commonService.update(i.endpoint+e+"/",t).then((function(e){r(e)}),(function(e){n(!1)}))}))}},{key:"deleteOvertimeDetail",value:function(e){var t=this;return new Promise((function(i,r){t.commonService.delete(t.endpoint+e+"/").then((function(e){i(!0)}),(function(e){r(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||g)(d.Zb(_.a))},g.\u0275prov=d.Ib({token:g,factory:g.\u0275fac,providedIn:"root"}),g),x=n("SYt/");function I(e,t){if(1&e){var i=d.Sb();d.Rb(0,"tr"),d.Rb(1,"td"),d.Hc(2),d.Qb(),d.Rb(3,"td"),d.Hc(4),d.Qb(),d.Rb(5,"td"),d.Hc(6),d.Qb(),d.Rb(7,"td"),d.Hc(8),d.Qb(),d.Rb(9,"td"),d.Hc(10),d.Qb(),d.Rb(11,"td",4),d.Rb(12,"span",5),d.cc("click",(function(){d.wc(i);var e=t.$implicit;return d.gc(2).edit(e)})),d.Nb(13,"i",6),d.Qb(),d.Rb(14,"span",7),d.cc("click",(function(){d.wc(i);var e=t.$implicit;return d.gc(2).delete(e.pk_overtime_detailid)})),d.Nb(15,"i",8),d.Qb(),d.Qb(),d.Qb()}if(2&e){var r=t.$implicit,n=d.gc(2);d.zb(2),d.Ic(r.date),d.zb(2),d.Ic(n.getCategoryName(r.day_category)),d.zb(2),d.Ic(r.start_time),d.zb(2),d.Ic(r.end_time),d.zb(2),d.Ic(r.description)}}function F(e,t){if(1&e&&(d.Rb(0,"table",1),d.Rb(1,"thead"),d.Rb(2,"tr"),d.Rb(3,"th"),d.Hc(4,"Date"),d.Qb(),d.Rb(5,"th"),d.Hc(6,"Category"),d.Qb(),d.Rb(7,"th"),d.Hc(8,"Start Time"),d.Qb(),d.Rb(9,"th"),d.Hc(10,"End Time"),d.Qb(),d.Rb(11,"th"),d.Hc(12,"Description"),d.Qb(),d.Rb(13,"th",2),d.Hc(14,"Options"),d.Qb(),d.Qb(),d.Qb(),d.Rb(15,"tbody"),d.Fc(16,I,16,5,"tr",3),d.Qb(),d.Qb()),2&e){var i=d.gc();d.zb(16),d.mc("ngForOf",i.overtimeDetails)}}var N,M=((N=function(){function t(){e(this,t)}return i(t,[{key:"getCategoryName",value:function(e){return 1===e?"Normal Days and Saturday":"Holidays and Sundays"}},{key:"edit",value:function(e){this.updateOvertimeDetail(e)}},{key:"delete",value:function(e){this.deleteOvertimeDetail(e)}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=d.Gb({type:N,selectors:[["app-overtime-details"]],inputs:{overtimeDetails:"overtimeDetails",updateOvertimeDetail:"updateOvertimeDetail",deleteOvertimeDetail:"deleteOvertimeDetail"},decls:1,vars:1,consts:[["class","table table-striped table-bordered",4,"ngIf"],[1,"table","table-striped","table-bordered"],["width","80",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&d.Fc(0,F,17,1,"table",0),2&e&&d.mc("ngIf",t.overtimeDetails)},directives:[o.l,o.k],styles:[""]}),N);function q(e,t){1&e&&(d.Rb(0,"div",25),d.Hc(1," stationary not added "),d.Qb())}var z,j=((z=function(){function t(i,r,n,o,a,c){var s=this;e(this,t),this.formBuilder=i,this.overtimeService=r,this.overtimeDetailService=n,this.router=o,this.processService=a,this.sidebarService=c,this.editMode=!1,this.overtimeDetails=[],this.updateOvertime=function(e){var t=s.overtimeDetails.findIndex((function(t){return t.pk_overtime_detailid===e.pk_overtime_detailid}));s.overtimeDetails.splice(t,1),s.initForm(e),s.editMode=!0},this.deleteOvertime=function(e){return Object(O.a)(s,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.overtimeDetailService.deleteOvertimeDetail(e);case 3:i=this.overtimeDetails.findIndex((function(t){return t.pk_overtime_detailid===e})),this.overtimeDetails.splice(i,1),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}}return i(t,[{key:"addOvertimeDetails",value:function(e){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pk_overtime_detailid){t.next=4;break}this.editOvertimeDetails(e),t.next=13;break;case 4:return t.prev=4,t.next=7,this.overtimeDetailService.addOvertimeDetail(Object.assign(Object.assign({},e),{fk_overtimeid:this.overtime.pk_overtimeid}));case 7:i=t.sent,this.overtimeDetails.push(i),this.initForm(),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:case"end":return t.stop()}}),t,this,[[4,11]])})))}},{key:"editOvertimeDetails",value:function(e){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.overtimeDetailService.editOvertimeDetail(e.pk_overtime_detailid,e);case 3:i=t.sent,this.editMode=!1,this.overtimeDetails.push(i),this.initForm(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addOvertime",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.overtimeService.addOvertime({fk_processid:this.processId});case 3:this.overtime=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"submit",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.overtime,e.t0){e.next=4;break}return e.next=4,this.addOvertime();case 4:this.addOvertimeDetails(this.addOvertimeForm.value);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"navigateToDetails",value:function(){this.router.navigate(["overtime",this.overtime.pk_overtimeid])}},{key:"ngOnInit",value:function(){var e=this;Object(D.a)(w.a.AddOvertime,this.processService).then((function(t){return e.processId=t})),this.initForm(),this.sidebarService.setTitle("myRequests")}},{key:"initForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.addOvertimeForm=this.formBuilder.group({pk_overtime_detailid:e.pk_overtime_detailid,fk_overtimeid:e.fk_overtimeid,date:[e.date,Q.r.compose([Q.r.required])],start_time:[e.start_time,Q.r.compose([Q.r.required])],end_time:[e.end_time,Q.r.compose([Q.r.required])],description:[e.description,Q.r.compose([Q.r.required])],day_category:[e.day_category,Q.r.compose([Q.r.required])]})}}]),t}()).\u0275fac=function(e){return new(e||z)(d.Mb(Q.b),d.Mb(S),d.Mb(H),d.Mb(a.b),d.Mb(x.a),d.Mb(m.a))},z.\u0275cmp=d.Gb({type:z,selectors:[["app-add-overtime"]],decls:47,vars:8,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"form-group"],["for","date"],["type","date","formControlName","date","placeholder","date","id","date",1,"form-control"],["for","start"],["type","time","formControlName","start_time","placeholder","start time","id","start",1,"form-control"],["for","end"],["type","time","formControlName","end_time","placeholder","end time","id","end",1,"form-control"],["for","day"],["formControlName","day_category","id","day",1,"form-control"],["value","1"],["value","2"],[1,"col-lg-12"],["for","description"],["name","description","formControlName","description","id","","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-info","role","alert",4,"ngIf"],[3,"updateOvertimeDetail","deleteOvertimeDetail","overtimeDetails"],[1,"btn","btn-primary",3,"disabled","click"],["role","alert",1,"alert","alert-info"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"strong"),d.Hc(3,"Overtime Creation Details"),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"form",3),d.cc("ngSubmit",(function(){return t.submit()})),d.Rb(6,"div",4),d.Rb(7,"div",5),d.Rb(8,"div",6),d.Rb(9,"div",7),d.Rb(10,"label",8),d.Hc(11,"Date"),d.Qb(),d.Nb(12,"input",9),d.Qb(),d.Qb(),d.Rb(13,"div",6),d.Rb(14,"label",10),d.Hc(15,"Start Time"),d.Qb(),d.Nb(16,"input",11),d.Qb(),d.Rb(17,"div",6),d.Rb(18,"label",12),d.Hc(19,"End Time"),d.Qb(),d.Nb(20,"input",13),d.Qb(),d.Rb(21,"div",6),d.Rb(22,"label",14),d.Hc(23,"Day Category"),d.Qb(),d.Rb(24,"select",15),d.Rb(25,"option",16),d.Hc(26,"Normal Days and Saturdays"),d.Qb(),d.Rb(27,"option",17),d.Hc(28,"Holidays and Sunday"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(29,"div",4),d.Rb(30,"div",5),d.Rb(31,"div",18),d.Rb(32,"div",7),d.Rb(33,"label",19),d.Hc(34,"Description"),d.Qb(),d.Nb(35,"textarea",20),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(36,"button",21),d.Hc(37),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(38,"div",0),d.Rb(39,"div",1),d.Rb(40,"strong"),d.Hc(41,"Overtime Creation Details"),d.Qb(),d.Qb(),d.Rb(42,"div",2),d.Fc(43,q,2,0,"div",22),d.Nb(44,"app-overtime-details",23),d.Rb(45,"button",24),d.cc("click",(function(){return t.navigateToDetails()})),d.Hc(46," Submit "),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.zb(5),d.mc("formGroup",t.addOvertimeForm),d.zb(31),d.mc("disabled",!t.addOvertimeForm.valid),d.zb(1),d.Jc(" ",t.editMode?"update":"Add"," "),d.zb(6),d.mc("ngIf",!t.overtimeDetails.length),d.zb(1),d.mc("updateOvertimeDetail",t.updateOvertime)("deleteOvertimeDetail",t.deleteOvertime)("overtimeDetails",t.overtimeDetails),d.zb(1),d.mc("disabled",!t.overtimeDetails.length))},directives:[Q.t,Q.k,Q.e,Q.a,Q.j,Q.d,Q.q,Q.l,Q.s,o.l,M],styles:[""]}),z),C=n("m4K9"),T=n.n(C),P=n("DaQG"),G=n.n(P),B=n("hE/2");function J(e,t){if(1&e&&(d.Rb(0,"tr"),d.Rb(1,"td"),d.Hc(2),d.Qb(),d.Rb(3,"td"),d.Hc(4),d.Qb(),d.Rb(5,"td"),d.Hc(6),d.Qb(),d.Rb(7,"td"),d.Hc(8),d.Qb(),d.Rb(9,"td"),d.Hc(10),d.Qb(),d.Qb()),2&e){var i=t.$implicit,r=d.gc(2);d.zb(2),d.Ic(i.date),d.zb(2),d.Ic(r.getCategoryName(i.day_category)),d.zb(2),d.Ic(i.start_time),d.zb(2),d.Ic(i.end_time),d.zb(2),d.Ic(i.description)}}function E(e,t){if(1&e&&(d.Rb(0,"table",4),d.Rb(1,"thead"),d.Rb(2,"tr"),d.Rb(3,"th"),d.Hc(4,"Date"),d.Qb(),d.Rb(5,"th"),d.Hc(6,"Category"),d.Qb(),d.Rb(7,"th"),d.Hc(8,"Start Time"),d.Qb(),d.Rb(9,"th"),d.Hc(10,"End Time"),d.Qb(),d.Rb(11,"th"),d.Hc(12,"Description"),d.Qb(),d.Qb(),d.Qb(),d.Rb(13,"tbody"),d.Fc(14,J,11,5,"tr",5),d.Qb(),d.Qb()),2&e){var i=d.gc();d.zb(14),d.mc("ngForOf",i.overtime.overtimeDetails)}}var $,A=(($=function(){function t(i,r,n,o){e(this,t),this.overtimeService=i,this.activatedRoute=r,this.sidebarService=n,this.requestService=o,this.downloadPDF=function(){var e=new T.a("p","pt");e.text("Overtime Details",35,20),G()(e,{html:"#table"}),G()(e,{html:"#table-2"}),e.save("overtime-details-".concat(Date.now(),".pdf"))},this.overtimeId=this.activatedRoute.snapshot.params.id}return i(t,[{key:"getRequest",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.overtime.fk_processid,"&workflowid=").concat(this.overtimeId));case 3:t=e.sent,this.request=t[0],e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getOvertime",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.overtimeService.getOvertime(this.overtimeId);case 3:this.overtime=e.sent,this.getRequest(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getCategoryName",value:function(e){return 1===e?"Normal Days and Saturday":"Holidays and Sundays"}},{key:"ngOnInit",value:function(){this.getOvertime(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||$)(d.Mb(S),d.Mb(a.a),d.Mb(m.a),d.Mb(b.a))},$.\u0275cmp=d.Gb({type:$,selectors:[["app-overtime"]],decls:9,vars:6,consts:[[3,"title","downloadButtonClicked","processId","workflowid"],["id","table",1,"table","table-borderless","table-responsive"],["scope","row"],["datatable","","class","table table-bordered table-striped","id","table-2",4,"ngIf"],["datatable","","id","table-2",1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d.Rb(0,"app-view-card",0),d.Rb(1,"table",1),d.Rb(2,"tbody"),d.Rb(3,"tr"),d.Rb(4,"th",2),d.Hc(5,"Requested by :"),d.Qb(),d.Rb(6,"td"),d.Hc(7),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Fc(8,E,15,1,"table",3),d.Qb()),2&e&&(d.mc("title","Overtime Details")("downloadButtonClicked",t.downloadPDF)("processId",t.overtime&&t.overtime.fk_processid)("workflowid",t.overtimeId),d.zb(7),d.Jc(" ",t.request&&t.request.profile.user.first_name+" "+t.request.profile.user.last_name," "),d.zb(1),d.mc("ngIf",t.overtime))},directives:[B.a,o.l,u.a,o.k],styles:[""]}),$);function K(e,t){1&e&&(d.Rb(0,"div",25),d.Hc(1," stationary not added "),d.Qb())}var L,V,X,Y=((L=function(){function t(i,r,n,o,a,c,s){var d=this;e(this,t),this.formBuilder=i,this.overtimeService=r,this.overtimeDetailService=n,this.router=o,this.processService=a,this.sidebarService=c,this.activatedRoute=s,this.editMode=!1,this.overtimeDetails=[],this.updateOvertime=function(e){var t=d.overtimeDetails.findIndex((function(t){return t.pk_overtime_detailid===e.pk_overtime_detailid}));d.overtimeDetails.splice(t,1),d.initForm(e),d.editMode=!0},this.deleteOvertime=function(e){return Object(O.a)(d,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.overtimeDetailService.deleteOvertimeDetail(e);case 3:i=this.overtimeDetails.findIndex((function(t){return t.pk_overtime_detailid===e})),this.overtimeDetails.splice(i,1),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))},this.overtimeId=this.activatedRoute.snapshot.params.id}return i(t,[{key:"getOvertime",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.overtimeService.getOvertime(this.overtimeId);case 3:this.overtime=e.sent,this.overtimeDetails=this.overtime.overtimeDetails,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"addOvertimeDetails",value:function(e){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pk_overtime_detailid){t.next=4;break}this.editOvertimeDetails(e),t.next=13;break;case 4:return t.prev=4,t.next=7,this.overtimeDetailService.addOvertimeDetail(Object.assign(Object.assign({},e),{fk_overtimeid:this.overtime.pk_overtimeid}));case 7:i=t.sent,this.overtimeDetails.push(i),this.initForm(),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:case"end":return t.stop()}}),t,this,[[4,11]])})))}},{key:"editOvertimeDetails",value:function(e){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.overtimeDetailService.editOvertimeDetail(e.pk_overtime_detailid,e);case 3:i=t.sent,this.editMode=!1,this.overtimeDetails.push(i),this.initForm(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"addOvertime",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.overtimeService.addOvertime({fk_processid:this.processId});case 3:this.overtime=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"submit",value:function(){return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.overtime,e.t0){e.next=4;break}return e.next=4,this.addOvertime();case 4:this.addOvertimeDetails(this.addOvertimeForm.value);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"navigateToDetails",value:function(){this.router.navigate(["overtime",this.overtime.pk_overtimeid])}},{key:"ngOnInit",value:function(){var e=this;Object(D.a)(w.a.AddOvertime,this.processService).then((function(t){return e.processId=t})),this.initForm(),this.getOvertime(),this.sidebarService.setTitle("myRequests")}},{key:"initForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.addOvertimeForm=this.formBuilder.group({pk_overtime_detailid:e.pk_overtime_detailid,fk_overtimeid:e.fk_overtimeid,date:[e.date,Q.r.compose([Q.r.required])],start_time:[e.start_time,Q.r.compose([Q.r.required])],end_time:[e.end_time,Q.r.compose([Q.r.required])],description:[e.description,Q.r.compose([Q.r.required])],day_category:[e.day_category,Q.r.compose([Q.r.required])]})}}]),t}()).\u0275fac=function(e){return new(e||L)(d.Mb(Q.b),d.Mb(S),d.Mb(H),d.Mb(a.b),d.Mb(x.a),d.Mb(m.a),d.Mb(a.a))},L.\u0275cmp=d.Gb({type:L,selectors:[["app-edit-overtime"]],decls:47,vars:8,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"form-group"],["for","date"],["type","date","formControlName","date","placeholder","date","id","date",1,"form-control"],["for","start"],["type","time","formControlName","start_time","placeholder","start time","id","start",1,"form-control"],["for","end"],["type","time","formControlName","end_time","placeholder","end time","id","end",1,"form-control"],["for","day"],["formControlName","day_category","id","day",1,"form-control"],["value","1"],["value","2"],[1,"col-lg-12"],["for","description"],["name","description","formControlName","description","id","","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-info","role","alert",4,"ngIf"],[3,"updateOvertimeDetail","deleteOvertimeDetail","overtimeDetails"],[1,"btn","btn-primary",3,"disabled","click"],["role","alert",1,"alert","alert-info"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"strong"),d.Hc(3,"Overtime Creation Details"),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"form",3),d.cc("ngSubmit",(function(){return t.submit()})),d.Rb(6,"div",4),d.Rb(7,"div",5),d.Rb(8,"div",6),d.Rb(9,"div",7),d.Rb(10,"label",8),d.Hc(11,"Date"),d.Qb(),d.Nb(12,"input",9),d.Qb(),d.Qb(),d.Rb(13,"div",6),d.Rb(14,"label",10),d.Hc(15,"Start Time"),d.Qb(),d.Nb(16,"input",11),d.Qb(),d.Rb(17,"div",6),d.Rb(18,"label",12),d.Hc(19,"End Time"),d.Qb(),d.Nb(20,"input",13),d.Qb(),d.Rb(21,"div",6),d.Rb(22,"label",14),d.Hc(23,"Day Category"),d.Qb(),d.Rb(24,"select",15),d.Rb(25,"option",16),d.Hc(26,"Normal Days and Saturdays"),d.Qb(),d.Rb(27,"option",17),d.Hc(28,"Holidays and Sunday"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(29,"div",4),d.Rb(30,"div",5),d.Rb(31,"div",18),d.Rb(32,"div",7),d.Rb(33,"label",19),d.Hc(34,"Description"),d.Qb(),d.Nb(35,"textarea",20),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(36,"button",21),d.Hc(37),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(38,"div",0),d.Rb(39,"div",1),d.Rb(40,"strong"),d.Hc(41,"Overtime Creation Details"),d.Qb(),d.Qb(),d.Rb(42,"div",2),d.Fc(43,K,2,0,"div",22),d.Nb(44,"app-overtime-details",23),d.Rb(45,"button",24),d.cc("click",(function(){return t.navigateToDetails()})),d.Hc(46," Submit "),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.zb(5),d.mc("formGroup",t.addOvertimeForm),d.zb(31),d.mc("disabled",!t.addOvertimeForm.valid),d.zb(1),d.Jc(" ",t.editMode?"update":"Add"," "),d.zb(6),d.mc("ngIf",!t.overtimeDetails.length),d.zb(1),d.mc("updateOvertimeDetail",t.updateOvertime)("deleteOvertimeDetail",t.deleteOvertime)("overtimeDetails",t.overtimeDetails),d.zb(1),d.mc("disabled",!t.overtimeDetails.length))},directives:[Q.t,Q.k,Q.e,Q.a,Q.j,Q.d,Q.q,Q.l,Q.s,o.l,M],styles:[""]}),L),Z=n("jljr"),W=n("umRm"),U=[{path:"",component:Z.a,children:[{path:"overtimes",component:k},{path:"overtime/:id",component:A},{path:"add-overtime",component:j},{path:"edit-overtime/:id",component:Y}]},{path:"",component:W.a,children:[{path:"overtime/:id",component:A}]}],ee=((V=function t(){e(this,t)}).\u0275mod=d.Kb({type:V}),V.\u0275inj=d.Jb({factory:function(e){return new(e||V)},imports:[[a.f.forChild(U)],a.f]}),V),te=n("WM+C"),ie=((X=function t(){e(this,t)}).\u0275mod=d.Kb({type:X}),X.\u0275inj=d.Jb({factory:function(e){return new(e||X)},imports:[[o.b,ee,Q.o,te.a,u.b]]}),X)}}])}();