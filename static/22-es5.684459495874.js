!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"8J0v":function(t,i,r){"use strict";r.r(i),r.d(i,"AssetDisposalModule",(function(){return X}));var n,a=r("ofXK"),o=r("tyNb"),c=r("mrSG"),d=r("NiRy"),b=r("Jdlf"),p=r("fXoL"),l=r("7o2P"),u=((n=function(){function t(s){e(this,t),this.commonService=s,this.endpoint="asset_disposals/"}return s(t,[{key:"addAssetDisposal",value:function(e){var t=this;return new Promise((function(s,i){t.commonService.post(t.endpoint,e).then((function(e){s(e)}),(function(e){i(e)}))}))}},{key:"getAssetDisposals",value:function(){var e=this;return new Promise((function(t,s){e.commonService.get(e.endpoint).then((function(e){t(e)}),(function(e){s(e)}))}))}},{key:"getAssetDisposal",value:function(e){var t=this;return new Promise((function(s,i){t.commonService.get(t.endpoint+e+"/").then((function(e){s(e)}),(function(e){i(e)}))}))}},{key:"editAssetDisposal",value:function(e,t){var s=this;return new Promise((function(i,r){s.commonService.update(s.endpoint+e+"/",t).then((function(e){i(e)}),(function(e){r(!1)}))}))}},{key:"deleteAssetDisposal",value:function(e){var t=this;return new Promise((function(s,i){t.commonService.delete(t.endpoint+e+"/").then((function(e){s(!0)}),(function(e){i(!1)}))}))}}]),t}()).\u0275fac=function(e){return new(e||n)(p.Zb(l.a))},n.\u0275prov=p.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n),f=r("4PCd"),m=r("Mtp9"),v=r("njyG"),h=function(){return["/add-asset-disposal"]};function R(e,t){1&e&&(p.Rb(0,"button",6),p.Hc(1," Asset Disposal "),p.Qb()),2&e&&p.mc("routerLink",p.pc(1,h))}function y(e,t){if(1&e){var s=p.Sb();p.Rb(0,"span",14),p.cc("click",(function(){p.wc(s);var e=p.gc().$implicit;return p.gc(2).view(e.pk_asset_disposalid)})),p.Nb(1,"i",15),p.Qb()}}function g(e,t){if(1&e){var s=p.Sb();p.Rb(0,"span",16),p.cc("click",(function(){p.wc(s);var e=p.gc().$implicit;return p.gc(2).edit(e.pk_asset_disposalid)})),p.Nb(1,"i",17),p.Qb()}}function k(e,t){if(1&e){var s=p.Sb();p.Rb(0,"span",18),p.cc("click",(function(){p.wc(s);var e=p.gc().$implicit;return p.gc(2).delete(e.pk_asset_disposalid)})),p.Nb(1,"i",19),p.Qb()}}function Q(e,t){if(1&e&&(p.Rb(0,"tr"),p.Rb(1,"td"),p.Hc(2),p.Qb(),p.Rb(3,"td"),p.Hc(4),p.Qb(),p.Rb(5,"td"),p.Hc(6),p.Qb(),p.Rb(7,"td"),p.Hc(8),p.Qb(),p.Rb(9,"td",10),p.Fc(10,y,2,0,"span",11),p.Fc(11,g,2,0,"span",12),p.Fc(12,k,2,0,"span",13),p.Qb(),p.Qb()),2&e){var s=t.$implicit,i=p.gc(2);p.zb(2),p.Jc("TML/AD ",s.pk_asset_disposalid,""),p.zb(2),p.Ic(s.assetType.asset_type),p.zb(2),p.Ic(s.date),p.zb(2),p.Ic(s.comment),p.zb(2),p.mc("ngIf",i.checkButton("view-asset-disposal")),p.zb(1),p.mc("ngIf",i.checkButton("edit-asset-disposal")),p.zb(1),p.mc("ngIf",i.checkButton("delete-asset-disposal"))}}function D(e,t){if(1&e&&(p.Rb(0,"table",7),p.Rb(1,"thead"),p.Rb(2,"tr"),p.Rb(3,"th"),p.Hc(4,"Ref ID"),p.Qb(),p.Rb(5,"th"),p.Hc(6,"Asset"),p.Qb(),p.Rb(7,"th"),p.Hc(8,"Date"),p.Qb(),p.Rb(9,"th"),p.Hc(10,"Comment"),p.Qb(),p.Rb(11,"th",8),p.Hc(12,"Options"),p.Qb(),p.Qb(),p.Qb(),p.Rb(13,"tbody"),p.Fc(14,Q,13,7,"tr",9),p.Qb(),p.Qb()),2&e){var s=p.gc();p.mc("dtOptions",s.dtOptions),p.zb(14),p.mc("ngForOf",s.assetDisposals)}}var w,S=((w=function(){function t(s,i,r,n){e(this,t),this.assetDisposalService=s,this.router=i,this.rolePermissionsState=r,this.sidebarService=n,this.dtOptions=b.a}return s(t,[{key:"getAssetDisposal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetDisposalService.getAssetDisposals();case 3:this.assetDisposals=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"checkButton",value:function(e){return Object(d.a)(this.rolePermissionsState,e)}},{key:"view",value:function(e){this.router.navigate(["asset-disposal",e])}},{key:"edit",value:function(e){this.router.navigate(["edit-asset-disposal",e])}},{key:"delete",value:function(e){}},{key:"ngOnInit",value:function(){this.getAssetDisposal(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||w)(p.Mb(u),p.Mb(o.b),p.Mb(f.a),p.Mb(m.a))},w.\u0275cmp=p.Gb({type:w,selectors:[["app-asset-disposals"]],decls:8,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"routerLink",4,"ngIf"],["datatable","","class","table table-striped table-bordered",3,"dtOptions",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"routerLink"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],["width","80",1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"strong"),p.Hc(3,"Asset Disposal"),p.Qb(),p.Qb(),p.Rb(4,"div",2),p.Rb(5,"p",3),p.Fc(6,R,2,2,"button",4),p.Qb(),p.Fc(7,D,15,2,"table",5),p.Qb(),p.Qb()),2&e&&(p.zb(6),p.mc("ngIf",t.checkButton("add-role")),p.zb(1),p.mc("ngIf",t.assetDisposals))},directives:[a.l,o.c,v.a,a.k],styles:[""]}),w),I=r("3Pt+"),_=r("YqHM"),A=r("T2nI"),x=r("bUWO"),F=r("SYt/");function O(e,t){if(1&e&&(p.Rb(0,"option",16),p.Hc(1),p.Qb()),2&e){var s=t.$implicit;p.nc("value",s.pk_asset_typeid),p.zb(1),p.Ic(s.asset_type)}}var H,M=((H=function(){function t(s,i,r,n,a,o){e(this,t),this.formBuider=s,this.assetDisposalService=i,this.assetTypeService=r,this.router=n,this.processService=a,this.sidebarService=o}return s(t,[{key:"getAssetTypes",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetTypeService.getAssetTypes();case 3:this.assetTypes=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"submit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign(Object.assign({},this.assetDisposalForm.value),{fk_processid:this.processId}),e.prev=1,e.next=4,this.assetDisposalService.addAssetDisposal(t);case 4:s=e.sent,i=s.pk_asset_disposalid,this.router.navigate(["asset-disposal",i]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,this,[[1,9]])})))}},{key:"initForm",value:function(){this.assetDisposalForm=this.formBuider.group({fk_asset_typeid:["",I.r.compose([I.r.required])],date:[Date.now,I.r.compose([I.r.required])],comment:["",I.r.compose([I.r.required])]})}},{key:"ngOnInit",value:function(){var e=this;Object(_.a)(A.a.AddAssetDisposal,this.processService).then((function(t){return e.processId=t})),this.initForm(),this.getAssetTypes(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||H)(p.Mb(I.b),p.Mb(u),p.Mb(x.a),p.Mb(o.b),p.Mb(F.a),p.Mb(m.a))},H.\u0275cmp=p.Gb({type:H,selectors:[["app-add-asset-disposal"]],decls:26,vars:3,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","day"],["formControlName","fk_asset_typeid","id","day",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","date"],["type","date","formControlName","date","placeholder","date","id","date",1,"form-control"],[1,"col-lg-10","col-md-10"],["for","description"],["name","description","formControlName","comment","id","","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"strong"),p.Hc(3,"Asset Disposal"),p.Qb(),p.Qb(),p.Rb(4,"div",2),p.Rb(5,"form",3),p.cc("ngSubmit",(function(){return t.submit()})),p.Rb(6,"div",4),p.Rb(7,"div",5),p.Rb(8,"div",6),p.Rb(9,"label",7),p.Hc(10,"Asset Type"),p.Qb(),p.Rb(11,"select",8),p.Fc(12,O,2,2,"option",9),p.Qb(),p.Qb(),p.Qb(),p.Rb(13,"div",5),p.Rb(14,"div",6),p.Rb(15,"label",10),p.Hc(16,"Date"),p.Qb(),p.Nb(17,"input",11),p.Qb(),p.Qb(),p.Qb(),p.Rb(18,"div",4),p.Rb(19,"div",12),p.Rb(20,"div",6),p.Rb(21,"label",13),p.Hc(22,"Description"),p.Qb(),p.Nb(23,"textarea",14),p.Qb(),p.Qb(),p.Qb(),p.Rb(24,"button",15),p.Hc(25," Submit "),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.zb(5),p.mc("formGroup",t.assetDisposalForm),p.zb(7),p.mc("ngForOf",t.assetTypes),p.zb(12),p.mc("disabled",!t.assetDisposalForm.valid))},directives:[I.t,I.k,I.e,I.q,I.j,I.d,a.k,I.a,I.l,I.s],styles:[""]}),H),T=r("m4K9"),q=r.n(T),j=r("DaQG"),z=r.n(j),N=r("a9NN"),C=r("hE/2");function P(e,t){if(1&e&&(p.Rb(0,"table",2),p.Rb(1,"tbody"),p.Rb(2,"tr"),p.Rb(3,"th",3),p.Hc(4,"Requested by :"),p.Qb(),p.Rb(5,"td"),p.Hc(6),p.Qb(),p.Qb(),p.Rb(7,"tr"),p.Rb(8,"th",3),p.Hc(9,"Asset Type:"),p.Qb(),p.Rb(10,"td"),p.Hc(11),p.Qb(),p.Qb(),p.Rb(12,"tr"),p.Rb(13,"th",3),p.Hc(14,"Date:"),p.Qb(),p.Rb(15,"td"),p.Hc(16),p.Qb(),p.Qb(),p.Rb(17,"tr"),p.Rb(18,"th",3),p.Hc(19,"Comment:"),p.Qb(),p.Rb(20,"td"),p.Hc(21),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e){var s=p.gc();p.zb(6),p.Jc(" ",s.request&&s.request.profile.user.first_name+" "+s.request.profile.user.last_name," "),p.zb(5),p.Jc(" ",s.assetDisposal.assetType.asset_type," "),p.zb(5),p.Jc(" ",s.assetDisposal.date," "),p.zb(5),p.Jc(" ",s.assetDisposal.comment," ")}}var J,B=((J=function(){function t(s,i,r,n){e(this,t),this.assetDisposalService=s,this.activatedRoute=i,this.sidebarService=r,this.requestService=n,this.downloadPDF=function(){var e=new q.a("p","pt");e.text("Asset Disposal",35,20),z()(e,{html:"#table"}),e.save("asset-disposal-".concat(Date.now(),".pdf"))},this.assetDisposalId=this.activatedRoute.snapshot.params.id}return s(t,[{key:"getRequest",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.assetDisposal.fk_processid,"&workflowid=").concat(this.assetDisposalId));case 3:t=e.sent,this.request=t[0],e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getAssetDisposal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetDisposalService.getAssetDisposal(this.assetDisposalId);case 3:this.assetDisposal=e.sent,this.getRequest(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"ngOnInit",value:function(){this.getAssetDisposal(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||J)(p.Mb(u),p.Mb(o.a),p.Mb(m.a),p.Mb(N.a))},J.\u0275cmp=p.Gb({type:J,selectors:[["app-asset-disposal"]],decls:2,vars:5,consts:[[3,"title","processId","workflowid","downloadButtonClicked"],["class","table table-borderless table-responsive","id","table",4,"ngIf"],["id","table",1,"table","table-borderless","table-responsive"],["scope","row"]],template:function(e,t){1&e&&(p.Rb(0,"app-view-card",0),p.Fc(1,P,22,4,"table",1),p.Qb()),2&e&&(p.mc("title","Asset disposal")("processId",t.assetDisposal&&t.assetDisposal.fk_processid)("workflowid",t.assetDisposalId)("downloadButtonClicked",t.downloadPDF),p.zb(1),p.mc("ngIf",t.assetDisposal))},directives:[C.a,a.l],styles:[""]}),J);function G(e,t){if(1&e&&(p.Rb(0,"option",16),p.Hc(1),p.Qb()),2&e){var s=t.$implicit;p.nc("value",s.pk_asset_typeid),p.zb(1),p.Jc(" ",s.asset_type," ")}}var $,L,E,K=(($=function(){function t(s,i,r,n,a,o,c){e(this,t),this.formBuider=s,this.assetDisposalService=i,this.assetTypeService=r,this.router=n,this.processService=a,this.sidebarService=o,this.activatedRoute=c,this.assetDisposalId=this.activatedRoute.snapshot.params.id}return s(t,[{key:"getAssetDisposal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetDisposalService.getAssetDisposal(this.assetDisposalId);case 3:this.assetDisposal=e.sent,this.initForm(this.assetDisposal),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getAssetTypes",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.assetTypeService.getAssetTypes();case 3:this.assetTypes=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"submit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign(Object.assign({},this.assetDisposalForm.value),{fk_processid:this.processId}),e.prev=1,e.next=4,this.assetDisposalService.editAssetDisposal(this.assetDisposal.pk_asset_disposalid,t);case 4:s=e.sent,i=s.pk_asset_disposalid,this.router.navigate(["asset-disposal",i]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,this,[[1,9]])})))}},{key:"initForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.assetDisposalForm=this.formBuider.group({fk_asset_typeid:[e.fk_asset_typeid,I.r.compose([I.r.required])],date:[e.date,I.r.compose([I.r.required])],comment:[e.comment,I.r.compose([I.r.required])]})}},{key:"ngOnInit",value:function(){var e=this;Object(_.a)(A.a.AddAssetDisposal,this.processService).then((function(t){return e.processId=t})),this.initForm(),this.getAssetDisposal(),this.getAssetTypes(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||$)(p.Mb(I.b),p.Mb(u),p.Mb(x.a),p.Mb(o.b),p.Mb(F.a),p.Mb(m.a),p.Mb(o.a))},$.\u0275cmp=p.Gb({type:$,selectors:[["app-edit-asset-disposal"]],decls:26,vars:3,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-3"],[1,"form-group"],["for","day"],["formControlName","fk_asset_typeid","id","day",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","date"],["type","date","formControlName","date","placeholder","date","id","date",1,"form-control"],[1,"col-6"],["for","description"],["name","description","formControlName","comment","id","","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"strong"),p.Hc(3,"Asset Disposal"),p.Qb(),p.Qb(),p.Rb(4,"div",2),p.Rb(5,"form",3),p.cc("ngSubmit",(function(){return t.submit()})),p.Rb(6,"div",4),p.Rb(7,"div",5),p.Rb(8,"div",6),p.Rb(9,"label",7),p.Hc(10,"Asset Type"),p.Qb(),p.Rb(11,"select",8),p.Fc(12,G,2,2,"option",9),p.Qb(),p.Qb(),p.Qb(),p.Rb(13,"div",5),p.Rb(14,"div",6),p.Rb(15,"label",10),p.Hc(16,"Date"),p.Qb(),p.Nb(17,"input",11),p.Qb(),p.Qb(),p.Qb(),p.Rb(18,"div",4),p.Rb(19,"div",12),p.Rb(20,"div",6),p.Rb(21,"label",13),p.Hc(22,"Description"),p.Qb(),p.Nb(23,"textarea",14),p.Qb(),p.Qb(),p.Qb(),p.Rb(24,"button",15),p.Hc(25," Update "),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.zb(5),p.mc("formGroup",t.assetDisposalForm),p.zb(7),p.mc("ngForOf",t.assetTypes),p.zb(12),p.mc("disabled",!t.assetDisposalForm.valid))},directives:[I.t,I.k,I.e,I.q,I.j,I.d,a.k,I.a,I.l,I.s],styles:[""]}),$),U=[{path:"",component:r("jljr").a,children:[{path:"asset-disposals",component:S},{path:"add-asset-disposal",component:M},{path:"edit-asset-disposal/:id",component:K},{path:"asset-disposal/:id",component:B}]}],V=((L=function t(){e(this,t)}).\u0275mod=p.Kb({type:L}),L.\u0275inj=p.Jb({factory:function(e){return new(e||L)},imports:[[o.f.forChild(U)],o.f]}),L),W=r("WM+C"),X=((E=function t(){e(this,t)}).\u0275mod=p.Kb({type:E}),E.\u0275inj=p.Jb({factory:function(e){return new(e||E)},imports:[[a.b,V,I.o,W.a,v.b]]}),E)}}])}();