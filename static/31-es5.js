!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"1vo/":function(t,n,r){"use strict";r.r(n),r.d(n,"ItEquipmentModule",(function(){return Z}));var o=r("ofXK"),a=r("3Pt+"),c=r("tyNb"),u=r("NiRy"),s=r("Jdlf"),b=r("fXoL"),m=r("Mtp9"),d=r("a9NN"),p=r("4PCd"),l=r("njyG");function f(e,t){if(1&e){var i=b.Sb();b.Rb(0,"button",9),b.cc("click",(function(){return b.wc(i),b.gc().addEquipment()})),b.Hc(1," New Request "),b.Qb()}}function q(e,t){if(1&e){var i=b.Sb();b.Rb(0,"span",14),b.cc("click",(function(){b.wc(i);var e=b.gc().$implicit;return b.gc().viewEquipment(e.pk_equipmentid)})),b.Nb(1,"i",15),b.Qb()}}function h(e,t){if(1&e){var i=b.Sb();b.Rb(0,"span",16),b.cc("click",(function(){b.wc(i);var e=b.gc().$implicit;return b.gc().editEquipment(e.pk_equipmentid)})),b.Nb(1,"i",17),b.Qb()}}function v(e,t){if(1&e){var i=b.Sb();b.Rb(0,"span",18),b.cc("click",(function(){b.wc(i);var e=b.gc().$implicit;return b.gc().deleteEquipment(e.pk_equipmentid)})),b.Nb(1,"i",19),b.Qb()}}function R(e,t){if(1&e&&(b.Rb(0,"tr"),b.Rb(1,"td"),b.Hc(2),b.Qb(),b.Rb(3,"td"),b.Hc(4),b.Qb(),b.Rb(5,"td"),b.Hc(6),b.Qb(),b.Rb(7,"td"),b.Hc(8),b.Qb(),b.Rb(9,"td"),b.Hc(10),b.Qb(),b.Rb(11,"td",10),b.Fc(12,q,2,0,"span",11),b.Fc(13,h,2,0,"span",12),b.Fc(14,v,2,0,"span",13),b.Qb(),b.Qb()),2&e){var i=t.$implicit,n=b.gc();b.zb(2),b.Jc("TML/IE ",i.pk_equipmentid,""),b.zb(2),b.Ic(i.equipment),b.zb(2),b.Ic(i.date_from),b.zb(2),b.Ic(i.date_to),b.zb(2),b.Ic(i.reason),b.zb(2),b.mc("ngIf",n.checkButton("view-equipment")),b.zb(1),b.mc("ngIf",n.checkButton("edit-equipment")),b.zb(1),b.mc("ngIf",n.checkButton("delete-equipment"))}}var Q,g=((Q=function(){function t(i,n,r,o){e(this,t),this.router=i,this.sidebarService=n,this.requestService=r,this.rolePermissionsState=o,this.dtOptions=s.a}return i(t,[{key:"getEquipments",value:function(){var e=this;this.requestService.getRequests("equipments").then((function(t){e.equipments=t}),(function(e){}))}},{key:"viewEquipment",value:function(e){this.router.navigate(["/it-equipment",e])}},{key:"editEquipment",value:function(e){this.router.navigate(["/edit-it-equipment",e])}},{key:"deleteEquipment",value:function(e){var t=this;this.requestService.deleteRequest(e,"equipments").then((function(e){t.getEquipments()}),(function(e){}))}},{key:"addEquipment",value:function(){this.router.navigate(["/add-it-equipment"])}},{key:"checkButton",value:function(e){return Object(u.a)(this.rolePermissionsState,e)}},{key:"ngOnInit",value:function(){this.getEquipments(),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||Q)(b.Mb(c.b),b.Mb(m.a),b.Mb(d.a),b.Mb(p.a))},Q.\u0275cmp=b.Gb({type:Q,selectors:[["app-it-equipments"]],decls:25,vars:3,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"strong"),b.Hc(3,"IT Equipment Requests"),b.Qb(),b.Qb(),b.Rb(4,"div",2),b.Rb(5,"p",3),b.Fc(6,f,2,0,"button",4),b.Qb(),b.Rb(7,"div",5),b.Rb(8,"table",6),b.Rb(9,"thead"),b.Rb(10,"tr"),b.Rb(11,"th"),b.Hc(12,"Ref ID"),b.Qb(),b.Rb(13,"th"),b.Hc(14,"Rights"),b.Qb(),b.Rb(15,"th"),b.Hc(16,"Start date"),b.Qb(),b.Rb(17,"th"),b.Hc(18,"End date"),b.Qb(),b.Rb(19,"th"),b.Hc(20,"Comment"),b.Qb(),b.Rb(21,"th",7),b.Hc(22,"Options"),b.Qb(),b.Qb(),b.Qb(),b.Rb(23,"tbody"),b.Fc(24,R,15,8,"tr",8),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.zb(6),b.mc("ngIf",t.checkButton("add-equipment")),b.zb(2),b.mc("dtOptions",t.dtOptions),b.zb(16),b.mc("ngForOf",t.equipments))},directives:[o.l,l.a,o.k],styles:[""]}),Q),y=r("YqHM"),k=r("T2nI"),I=r("SYt/");function w(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Equipment is required"),b.Qb())}function E(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Firstname is required"),b.Qb())}function H(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Lastname is required"),b.Qb())}function F(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Reason is required"),b.Qb())}var _,S,z=((_=function(){function t(i,n,r,o,a){e(this,t),this.formBuilder=i,this.router=n,this.sidebarService=r,this.requestService=o,this.processService=a,this.submitted=!1}return i(t,[{key:"addEquipment",value:function(){var e=this;if(this.submitted=!0,!this.equipmentForm.invalid){var t=this.equipmentForm.value;this.sapRightsData={equipment:t.equipment,date_from:t.date_from,date_to:t.date_to,reason:t.reason,fk_processid:this.processId},this.requestService.addRequest(this.sapRightsData,"equipments").then((function(t){e.router.navigate(["/it-equipments"])}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;Object(y.a)(k.a.AddITEquipment,this.processService).then((function(t){return e.processId=t})),this.equipmentForm=this.formBuilder.group({equipment:["",a.r.compose([a.r.required])],date_from:["",a.r.compose([a.r.required])],date_to:["",a.r.compose([a.r.required])],reason:["",a.r.compose([a.r.required])]}),this.sidebarService.setTitle("myRequests")}},{key:"formValidation",get:function(){return this.equipmentForm.controls}}]),t}()).\u0275fac=function(e){return new(e||_)(b.Mb(a.b),b.Mb(c.b),b.Mb(m.a),b.Mb(d.a),b.Mb(I.a))},_.\u0275cmp=b.Gb({type:_,selectors:[["app-add-it-equipment"]],decls:36,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-Firstname"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","paymentFor"],["type","textarea","id","paymentFor","placeholder","Equipment . . . ","formControlName","equipment",1,"form-control"],["class","text-danger small",4,"ngIf"],[1,"col-5"],["for","amountInput"],["type","date","formControlName","date_from","placeholder","Date from",1,"form-control"],["type","date","formControlName","date_to","placeholder","Date to",1,"form-control"],["type","textarea","id","paymentFor","placeholder","Reason . . . ","rows","4","formControlName","reason",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"strong"),b.Hc(3,"Book Equipment Details"),b.Qb(),b.Qb(),b.Rb(4,"div",2),b.Rb(5,"form",3),b.cc("ngSubmit",(function(){return t.addEquipment()})),b.Rb(6,"div",4),b.Rb(7,"div",5),b.Rb(8,"div",6),b.Rb(9,"label",7),b.Hc(10,"IT Equipment"),b.Qb(),b.Nb(11,"input",8),b.Fc(12,w,2,0,"div",9),b.Qb(),b.Qb(),b.Qb(),b.Rb(13,"div",4),b.Rb(14,"div",5),b.Rb(15,"div",10),b.Rb(16,"label",11),b.Hc(17,"Start date"),b.Qb(),b.Nb(18,"input",12),b.Fc(19,E,2,0,"div",9),b.Qb(),b.Rb(20,"div",10),b.Rb(21,"label",11),b.Hc(22,"End date"),b.Qb(),b.Nb(23,"input",13),b.Fc(24,H,2,0,"div",9),b.Qb(),b.Qb(),b.Qb(),b.Rb(25,"div",4),b.Rb(26,"div",5),b.Rb(27,"div",6),b.Rb(28,"label",7),b.Hc(29,"Reason"),b.Qb(),b.Nb(30,"textarea",14),b.Fc(31,F,2,0,"div",9),b.Qb(),b.Qb(),b.Qb(),b.Rb(32,"button",15),b.Hc(33,"Submit"),b.Qb(),b.Rb(34,"button",16),b.Hc(35,"Cancel"),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.zb(5),b.mc("formGroup",t.equipmentForm),b.zb(7),b.mc("ngIf",t.submitted&&t.formValidation.equipment.errors),b.zb(7),b.mc("ngIf",t.submitted&&t.formValidation.date_from.errors),b.zb(5),b.mc("ngIf",t.submitted&&t.formValidation.date_to.errors),b.zb(7),b.mc("ngIf",t.submitted&&t.formValidation.reason.errors),b.zb(1),b.mc("disabled",!t.equipmentForm.valid),b.zb(2),b.mc("routerLink","/it-equipments"))},directives:[a.t,a.k,a.e,a.a,a.j,a.d,o.l,c.c],styles:[""]}),_),N=r("mrSG"),x=r("Dsut"),M=r("m4K9"),D=r.n(M),C=r("DaQG"),O=r.n(C),T=r("hE/2"),B=((S=function(){function t(i,n,r,o){e(this,t),this.router=i,this.requestService=n,this.activatedRoute=r,this.sidebarService=o,this.downloadPDF=function(){var e=new D.a("p","pt");e.text("IT Equipment Details",35,20),O()(e,{html:"#table"}),O()(e,{html:"#table-2"}),e.save("IT-Equipment-".concat(Date.now(),".pdf"))},this.equipmentId=r.snapshot.params.id,this.initializeEquipment()}return i(t,[{key:"getRequest",value:function(){return Object(N.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestService.getRequests("requests","fk_processid=".concat(this.equipment.fk_processid,"&workflowid=").concat(this.equipmentId));case 3:t=e.sent,this.request=t[0],e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getEquipment",value:function(e){var t=this;this.requestService.getRequest(e,"equipments").then((function(e){t.equipment=e,t.getRequest(),t.initializeEquipment()}),(function(e){}))}},{key:"initializeEquipment",value:function(){null==this.equipment&&(this.equipment=new x.b,this.equipment.equipment=null,this.equipment.date_from=null,this.equipment.date_to=null,this.equipment.reason=null)}},{key:"ngOnInit",value:function(){this.getEquipment(this.equipmentId),this.sidebarService.setTitle("myRequests")}}]),t}()).\u0275fac=function(e){return new(e||S)(b.Mb(c.b),b.Mb(d.a),b.Mb(c.a),b.Mb(m.a))},S.\u0275cmp=b.Gb({type:S,selectors:[["app-it-equipment"]],decls:28,vars:9,consts:[[3,"title","processId","workflowid","downloadButtonClicked"],[1,"table","table-borderless","table-responsive"],["scope","row"]],template:function(e,t){1&e&&(b.Rb(0,"app-view-card",0),b.Rb(1,"table",1),b.Rb(2,"tbody"),b.Rb(3,"tr"),b.Rb(4,"th",2),b.Hc(5,"Requested by :"),b.Qb(),b.Rb(6,"td"),b.Hc(7),b.Qb(),b.Qb(),b.Rb(8,"tr"),b.Rb(9,"th",2),b.Hc(10,"Quipment(s) :"),b.Qb(),b.Rb(11,"td"),b.Hc(12),b.Qb(),b.Qb(),b.Rb(13,"tr"),b.Rb(14,"th",2),b.Hc(15,"Start date :"),b.Qb(),b.Rb(16,"td"),b.Hc(17),b.Qb(),b.Qb(),b.Rb(18,"tr"),b.Rb(19,"th",2),b.Hc(20,"End date :"),b.Qb(),b.Rb(21,"td"),b.Hc(22),b.Qb(),b.Qb(),b.Rb(23,"tr"),b.Rb(24,"th",2),b.Hc(25,"Comment :"),b.Qb(),b.Rb(26,"td"),b.Hc(27),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.mc("title","IT Equipment Details")("processId",t.equipment&&t.equipment.fk_processid)("workflowid",t.equipmentId)("downloadButtonClicked",t.downloadPDF),b.zb(7),b.Jc(" ",t.request&&t.request.profile.user.first_name+" "+t.request.profile.user.last_name," "),b.zb(5),b.Ic(t.equipment.equipment),b.zb(5),b.Ic(t.equipment.date_from),b.zb(5),b.Ic(t.equipment.date_to),b.zb(5),b.Ic(t.equipment.reason))},directives:[T.a],styles:[""]}),S);function V(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Equipment is required"),b.Qb())}function j(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Firstname is required"),b.Qb())}function G(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Lastname is required"),b.Qb())}function L(e,t){1&e&&(b.Rb(0,"div",17),b.Hc(1,"Reason is required"),b.Qb())}var J,P,K,$=((J=function(){function t(i,n,r,o,a){e(this,t),this.formBuilder=i,this.router=n,this.sidebarService=r,this.requestService=o,this.activatedRoute=a,this.submitted=!1,this.equipmentId=a.snapshot.params.id,this.initializeEquipmentForm()}return i(t,[{key:"getEquipment",value:function(e){var t=this;this.requestService.getRequest(e,"equipments").then((function(e){t.equipment=e,t.initializeEquipmentForm()}),(function(e){}))}},{key:"editEquipment",value:function(){var e=this;if(this.submitted=!0,!this.equipmentForm.invalid){var t=this.equipmentForm.value;this.equipmentData={equipment:t.equipment,date_from:t.date_from,date_to:t.date_to,reason:t.reason},this.requestService.editRequest(this.equipmentId,this.equipmentData,"equipments").then((function(t){e.router.navigate(["/it-equipments"])}),(function(e){}))}}},{key:"initializeEquipmentForm",value:function(){null==this.equipment&&(this.equipment=new x.b,this.equipment.equipment=null,this.equipment.date_from=null,this.equipment.date_to=null,this.equipment.reason=null),this.equipmentForm=this.formBuilder.group({equipment:[this.equipment.equipment,a.r.compose([a.r.required])],date_from:[this.equipment.date_from,a.r.compose([a.r.required])],date_to:[this.equipment.date_to,a.r.compose([a.r.required])],reason:[this.equipment.reason,a.r.compose([a.r.required])]})}},{key:"ngOnInit",value:function(){this.getEquipment(this.equipmentId),this.sidebarService.setTitle("myRequests")}},{key:"formValidation",get:function(){return this.equipmentForm.controls}}]),t}()).\u0275fac=function(e){return new(e||J)(b.Mb(a.b),b.Mb(c.b),b.Mb(m.a),b.Mb(d.a),b.Mb(c.a))},J.\u0275cmp=b.Gb({type:J,selectors:[["app-edit-it-equipment"]],decls:36,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-Firstname"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","paymentFor"],["type","textarea","id","paymentFor","placeholder","Equipment . . . ","formControlName","equipment",1,"form-control"],["class","text-danger small",4,"ngIf"],[1,"col-5"],["for","amountInput"],["type","date","formControlName","date_from","placeholder","Date from",1,"form-control"],["type","date","formControlName","date_to","placeholder","Date to",1,"form-control"],["type","textarea","id","paymentFor","placeholder","Reason . . . ","rows","4","formControlName","reason",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"strong"),b.Hc(3,"Book Equipment Details"),b.Qb(),b.Qb(),b.Rb(4,"div",2),b.Rb(5,"form",3),b.cc("ngSubmit",(function(){return t.editEquipment()})),b.Rb(6,"div",4),b.Rb(7,"div",5),b.Rb(8,"div",6),b.Rb(9,"label",7),b.Hc(10,"IT Equipment"),b.Qb(),b.Nb(11,"input",8),b.Fc(12,V,2,0,"div",9),b.Qb(),b.Qb(),b.Qb(),b.Rb(13,"div",4),b.Rb(14,"div",5),b.Rb(15,"div",10),b.Rb(16,"label",11),b.Hc(17,"Start date"),b.Qb(),b.Nb(18,"input",12),b.Fc(19,j,2,0,"div",9),b.Qb(),b.Rb(20,"div",10),b.Rb(21,"label",11),b.Hc(22,"End date"),b.Qb(),b.Nb(23,"input",13),b.Fc(24,G,2,0,"div",9),b.Qb(),b.Qb(),b.Qb(),b.Rb(25,"div",4),b.Rb(26,"div",5),b.Rb(27,"div",6),b.Rb(28,"label",7),b.Hc(29,"Reason"),b.Qb(),b.Nb(30,"textarea",14),b.Fc(31,L,2,0,"div",9),b.Qb(),b.Qb(),b.Qb(),b.Rb(32,"button",15),b.Hc(33,"Submit"),b.Qb(),b.Rb(34,"button",16),b.Hc(35,"Cancel"),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.zb(5),b.mc("formGroup",t.equipmentForm),b.zb(7),b.mc("ngIf",t.submitted&&t.formValidation.equipment.errors),b.zb(7),b.mc("ngIf",t.submitted&&t.formValidation.date_from.errors),b.zb(5),b.mc("ngIf",t.submitted&&t.formValidation.date_to.errors),b.zb(7),b.mc("ngIf",t.submitted&&t.formValidation.reason.errors),b.zb(1),b.mc("disabled",!t.equipmentForm.valid),b.zb(2),b.mc("routerLink","/it-equipments"))},directives:[a.t,a.k,a.e,a.a,a.j,a.d,o.l,c.c],styles:[""]}),J),X=r("jljr"),Y=r("umRm"),A=[{path:"",component:X.a,children:[{path:"it-equipments",component:g},{path:"add-it-equipment",component:z},{path:"edit-it-equipment/:id",component:$},{path:"it-equipment/:id",component:B}]},{path:"",component:Y.a,children:[]}],W=((P=function t(){e(this,t)}).\u0275mod=b.Kb({type:P}),P.\u0275inj=b.Jb({factory:function(e){return new(e||P)},imports:[[c.f.forChild(A)],c.f]}),P),U=r("WM+C"),Z=((K=function t(){e(this,t)}).\u0275mod=b.Kb({type:K}),K.\u0275inj=b.Jb({factory:function(e){return new(e||K)},imports:[[o.b,W,a.o,l.b,U.a]]}),K)}}])}();