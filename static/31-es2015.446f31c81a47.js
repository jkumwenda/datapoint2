(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"1vo/":function(t,e,i){"use strict";i.r(e),i.d(e,"ItEquipmentModule",(function(){return $}));var n=i("ofXK"),r=i("3Pt+"),o=i("tyNb"),s=i("NiRy"),c=i("Jdlf"),a=i("fXoL"),b=i("Mtp9"),d=i("a9NN"),m=i("4PCd"),u=i("njyG");function p(t,e){if(1&t){const t=a.Sb();a.Rb(0,"button",9),a.cc("click",(function(){return a.wc(t),a.gc().addEquipment()})),a.Hc(1," New Request "),a.Qb()}}function l(t,e){if(1&t){const t=a.Sb();a.Rb(0,"span",14),a.cc("click",(function(){a.wc(t);const e=a.gc().$implicit;return a.gc().viewEquipment(e.pk_equipmentid)})),a.Nb(1,"i",15),a.Qb()}}function q(t,e){if(1&t){const t=a.Sb();a.Rb(0,"span",16),a.cc("click",(function(){a.wc(t);const e=a.gc().$implicit;return a.gc().editEquipment(e.pk_equipmentid)})),a.Nb(1,"i",17),a.Qb()}}function h(t,e){if(1&t){const t=a.Sb();a.Rb(0,"span",18),a.cc("click",(function(){a.wc(t);const e=a.gc().$implicit;return a.gc().deleteEquipment(e.pk_equipmentid)})),a.Nb(1,"i",19),a.Qb()}}function f(t,e){if(1&t&&(a.Rb(0,"tr"),a.Rb(1,"td"),a.Hc(2),a.Qb(),a.Rb(3,"td"),a.Hc(4),a.Qb(),a.Rb(5,"td"),a.Hc(6),a.Qb(),a.Rb(7,"td"),a.Hc(8),a.Qb(),a.Rb(9,"td"),a.Hc(10),a.Qb(),a.Rb(11,"td",10),a.Fc(12,l,2,0,"span",11),a.Fc(13,q,2,0,"span",12),a.Fc(14,h,2,0,"span",13),a.Qb(),a.Qb()),2&t){const t=e.$implicit,i=a.gc();a.zb(2),a.Jc("TML/IE ",t.pk_equipmentid,""),a.zb(2),a.Ic(t.equipment),a.zb(2),a.Ic(t.date_from),a.zb(2),a.Ic(t.date_to),a.zb(2),a.Ic(t.reason),a.zb(2),a.mc("ngIf",i.checkButton("view-equipment")),a.zb(1),a.mc("ngIf",i.checkButton("edit-equipment")),a.zb(1),a.mc("ngIf",i.checkButton("delete-equipment"))}}let R=(()=>{class t{constructor(t,e,i,n){this.router=t,this.sidebarService=e,this.requestService=i,this.rolePermissionsState=n,this.dtOptions=c.a}getEquipments(){this.requestService.getRequests("equipments").then(t=>{this.equipments=t},t=>{})}viewEquipment(t){this.router.navigate(["/it-equipment",t])}editEquipment(t){this.router.navigate(["/edit-it-equipment",t])}deleteEquipment(t){this.requestService.deleteRequest(t,"equipments").then(t=>{this.getEquipments()},t=>{})}addEquipment(){this.router.navigate(["/add-it-equipment"])}checkButton(t){return Object(s.a)(this.rolePermissionsState,t)}ngOnInit(){this.getEquipments(),this.sidebarService.setTitle("myRequests")}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(o.b),a.Mb(b.a),a.Mb(d.a),a.Mb(m.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-it-equipments"]],decls:25,vars:3,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"strong"),a.Hc(3,"IT Equipment Requests"),a.Qb(),a.Qb(),a.Rb(4,"div",2),a.Rb(5,"p",3),a.Fc(6,p,2,0,"button",4),a.Qb(),a.Rb(7,"div",5),a.Rb(8,"table",6),a.Rb(9,"thead"),a.Rb(10,"tr"),a.Rb(11,"th"),a.Hc(12,"Ref ID"),a.Qb(),a.Rb(13,"th"),a.Hc(14,"Rights"),a.Qb(),a.Rb(15,"th"),a.Hc(16,"Start date"),a.Qb(),a.Rb(17,"th"),a.Hc(18,"End date"),a.Qb(),a.Rb(19,"th"),a.Hc(20,"Comment"),a.Qb(),a.Rb(21,"th",7),a.Hc(22,"Options"),a.Qb(),a.Qb(),a.Qb(),a.Rb(23,"tbody"),a.Fc(24,f,15,8,"tr",8),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.zb(6),a.mc("ngIf",e.checkButton("add-equipment")),a.zb(2),a.mc("dtOptions",e.dtOptions),a.zb(16),a.mc("ngForOf",e.equipments))},directives:[n.l,u.a,n.k],styles:[""]}),t})();var v=i("YqHM"),Q=i("T2nI"),g=i("SYt/");function I(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Equipment is required"),a.Qb())}function y(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Firstname is required"),a.Qb())}function w(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Lastname is required"),a.Qb())}function E(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Reason is required"),a.Qb())}let H=(()=>{class t{constructor(t,e,i,n,r){this.formBuilder=t,this.router=e,this.sidebarService=i,this.requestService=n,this.processService=r,this.submitted=!1}addEquipment(){if(this.submitted=!0,!this.equipmentForm.invalid){const t=this.equipmentForm.value;this.sapRightsData={equipment:t.equipment,date_from:t.date_from,date_to:t.date_to,reason:t.reason,fk_processid:this.processId},this.requestService.addRequest(this.sapRightsData,"equipments").then(t=>{this.router.navigate(["/it-equipments"])},t=>{})}}ngOnInit(){Object(v.a)(Q.a.AddITEquipment,this.processService).then(t=>this.processId=t),this.equipmentForm=this.formBuilder.group({equipment:["",r.r.compose([r.r.required])],date_from:["",r.r.compose([r.r.required])],date_to:["",r.r.compose([r.r.required])],reason:["",r.r.compose([r.r.required])]}),this.sidebarService.setTitle("myRequests")}get formValidation(){return this.equipmentForm.controls}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(r.b),a.Mb(o.b),a.Mb(b.a),a.Mb(d.a),a.Mb(g.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-add-it-equipment"]],decls:36,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-Firstname"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","paymentFor"],["type","textarea","id","paymentFor","placeholder","Equipment . . . ","formControlName","equipment",1,"form-control"],["class","text-danger small",4,"ngIf"],[1,"col-5"],["for","amountInput"],["type","date","formControlName","date_from","placeholder","Date from",1,"form-control"],["type","date","formControlName","date_to","placeholder","Date to",1,"form-control"],["type","textarea","id","paymentFor","placeholder","Reason . . . ","rows","4","formControlName","reason",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"strong"),a.Hc(3,"Book Equipment Details"),a.Qb(),a.Qb(),a.Rb(4,"div",2),a.Rb(5,"form",3),a.cc("ngSubmit",(function(){return e.addEquipment()})),a.Rb(6,"div",4),a.Rb(7,"div",5),a.Rb(8,"div",6),a.Rb(9,"label",7),a.Hc(10,"IT Equipment"),a.Qb(),a.Nb(11,"input",8),a.Fc(12,I,2,0,"div",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(13,"div",4),a.Rb(14,"div",5),a.Rb(15,"div",10),a.Rb(16,"label",11),a.Hc(17,"Start date"),a.Qb(),a.Nb(18,"input",12),a.Fc(19,y,2,0,"div",9),a.Qb(),a.Rb(20,"div",10),a.Rb(21,"label",11),a.Hc(22,"End date"),a.Qb(),a.Nb(23,"input",13),a.Fc(24,w,2,0,"div",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(25,"div",4),a.Rb(26,"div",5),a.Rb(27,"div",6),a.Rb(28,"label",7),a.Hc(29,"Reason"),a.Qb(),a.Nb(30,"textarea",14),a.Fc(31,E,2,0,"div",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(32,"button",15),a.Hc(33,"Submit"),a.Qb(),a.Rb(34,"button",16),a.Hc(35,"Cancel"),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.zb(5),a.mc("formGroup",e.equipmentForm),a.zb(7),a.mc("ngIf",e.submitted&&e.formValidation.equipment.errors),a.zb(7),a.mc("ngIf",e.submitted&&e.formValidation.date_from.errors),a.zb(5),a.mc("ngIf",e.submitted&&e.formValidation.date_to.errors),a.zb(7),a.mc("ngIf",e.submitted&&e.formValidation.reason.errors),a.zb(1),a.mc("disabled",!e.equipmentForm.valid),a.zb(2),a.mc("routerLink","/it-equipments"))},directives:[r.t,r.k,r.e,r.a,r.j,r.d,n.l,o.c],styles:[""]}),t})();var F=i("mrSG"),k=i("Dsut"),_=i("m4K9"),S=i.n(_),z=i("DaQG"),N=i.n(z),M=i("hE/2");let x=(()=>{class t{constructor(t,e,i,n){this.router=t,this.requestService=e,this.activatedRoute=i,this.sidebarService=n,this.downloadPDF=()=>{const t=new S.a("p","pt");t.text("IT Equipment Details",35,20),N()(t,{html:"#table"}),N()(t,{html:"#table-2"}),t.save(`IT-Equipment-${Date.now()}.pdf`)},this.equipmentId=i.snapshot.params.id,this.initializeEquipment()}getRequest(){return Object(F.a)(this,void 0,void 0,(function*(){try{const t=yield this.requestService.getRequests("requests",`fk_processid=${this.equipment.fk_processid}&workflowid=${this.equipmentId}`);this.request=t[0]}catch(t){}}))}getEquipment(t){this.requestService.getRequest(t,"equipments").then(t=>{this.equipment=t,this.getRequest(),this.initializeEquipment()},t=>{})}initializeEquipment(){null==this.equipment&&(this.equipment=new k.b,this.equipment.equipment=null,this.equipment.date_from=null,this.equipment.date_to=null,this.equipment.reason=null)}ngOnInit(){this.getEquipment(this.equipmentId),this.sidebarService.setTitle("myRequests")}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(o.b),a.Mb(d.a),a.Mb(o.a),a.Mb(b.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-it-equipment"]],decls:28,vars:9,consts:[[3,"title","processId","workflowid","downloadButtonClicked"],[1,"table","table-borderless","table-responsive"],["scope","row"]],template:function(t,e){1&t&&(a.Rb(0,"app-view-card",0),a.Rb(1,"table",1),a.Rb(2,"tbody"),a.Rb(3,"tr"),a.Rb(4,"th",2),a.Hc(5,"Requested by :"),a.Qb(),a.Rb(6,"td"),a.Hc(7),a.Qb(),a.Qb(),a.Rb(8,"tr"),a.Rb(9,"th",2),a.Hc(10,"Quipment(s) :"),a.Qb(),a.Rb(11,"td"),a.Hc(12),a.Qb(),a.Qb(),a.Rb(13,"tr"),a.Rb(14,"th",2),a.Hc(15,"Start date :"),a.Qb(),a.Rb(16,"td"),a.Hc(17),a.Qb(),a.Qb(),a.Rb(18,"tr"),a.Rb(19,"th",2),a.Hc(20,"End date :"),a.Qb(),a.Rb(21,"td"),a.Hc(22),a.Qb(),a.Qb(),a.Rb(23,"tr"),a.Rb(24,"th",2),a.Hc(25,"Comment :"),a.Qb(),a.Rb(26,"td"),a.Hc(27),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.mc("title","IT Equipment Details")("processId",e.equipment&&e.equipment.fk_processid)("workflowid",e.equipmentId)("downloadButtonClicked",e.downloadPDF),a.zb(7),a.Jc(" ",e.request&&e.request.profile.user.first_name+" "+e.request.profile.user.last_name," "),a.zb(5),a.Ic(e.equipment.equipment),a.zb(5),a.Ic(e.equipment.date_from),a.zb(5),a.Ic(e.equipment.date_to),a.zb(5),a.Ic(e.equipment.reason))},directives:[M.a],styles:[""]}),t})();function D(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Equipment is required"),a.Qb())}function C(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Firstname is required"),a.Qb())}function O(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Lastname is required"),a.Qb())}function B(t,e){1&t&&(a.Rb(0,"div",17),a.Hc(1,"Reason is required"),a.Qb())}let T=(()=>{class t{constructor(t,e,i,n,r){this.formBuilder=t,this.router=e,this.sidebarService=i,this.requestService=n,this.activatedRoute=r,this.submitted=!1,this.equipmentId=r.snapshot.params.id,this.initializeEquipmentForm()}getEquipment(t){this.requestService.getRequest(t,"equipments").then(t=>{this.equipment=t,this.initializeEquipmentForm()},t=>{})}editEquipment(){if(this.submitted=!0,!this.equipmentForm.invalid){const t=this.equipmentForm.value;this.equipmentData={equipment:t.equipment,date_from:t.date_from,date_to:t.date_to,reason:t.reason},this.requestService.editRequest(this.equipmentId,this.equipmentData,"equipments").then(t=>{this.router.navigate(["/it-equipments"])},t=>{})}}initializeEquipmentForm(){null==this.equipment&&(this.equipment=new k.b,this.equipment.equipment=null,this.equipment.date_from=null,this.equipment.date_to=null,this.equipment.reason=null),this.equipmentForm=this.formBuilder.group({equipment:[this.equipment.equipment,r.r.compose([r.r.required])],date_from:[this.equipment.date_from,r.r.compose([r.r.required])],date_to:[this.equipment.date_to,r.r.compose([r.r.required])],reason:[this.equipment.reason,r.r.compose([r.r.required])]})}ngOnInit(){this.getEquipment(this.equipmentId),this.sidebarService.setTitle("myRequests")}get formValidation(){return this.equipmentForm.controls}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(r.b),a.Mb(o.b),a.Mb(b.a),a.Mb(d.a),a.Mb(o.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-edit-it-equipment"]],decls:36,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-Firstname"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","paymentFor"],["type","textarea","id","paymentFor","placeholder","Equipment . . . ","formControlName","equipment",1,"form-control"],["class","text-danger small",4,"ngIf"],[1,"col-5"],["for","amountInput"],["type","date","formControlName","date_from","placeholder","Date from",1,"form-control"],["type","date","formControlName","date_to","placeholder","Date to",1,"form-control"],["type","textarea","id","paymentFor","placeholder","Reason . . . ","rows","4","formControlName","reason",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"strong"),a.Hc(3,"Book Equipment Details"),a.Qb(),a.Qb(),a.Rb(4,"div",2),a.Rb(5,"form",3),a.cc("ngSubmit",(function(){return e.editEquipment()})),a.Rb(6,"div",4),a.Rb(7,"div",5),a.Rb(8,"div",6),a.Rb(9,"label",7),a.Hc(10,"IT Equipment"),a.Qb(),a.Nb(11,"input",8),a.Fc(12,D,2,0,"div",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(13,"div",4),a.Rb(14,"div",5),a.Rb(15,"div",10),a.Rb(16,"label",11),a.Hc(17,"Start date"),a.Qb(),a.Nb(18,"input",12),a.Fc(19,C,2,0,"div",9),a.Qb(),a.Rb(20,"div",10),a.Rb(21,"label",11),a.Hc(22,"End date"),a.Qb(),a.Nb(23,"input",13),a.Fc(24,O,2,0,"div",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(25,"div",4),a.Rb(26,"div",5),a.Rb(27,"div",6),a.Rb(28,"label",7),a.Hc(29,"Reason"),a.Qb(),a.Nb(30,"textarea",14),a.Fc(31,B,2,0,"div",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(32,"button",15),a.Hc(33,"Submit"),a.Qb(),a.Rb(34,"button",16),a.Hc(35,"Cancel"),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.zb(5),a.mc("formGroup",e.equipmentForm),a.zb(7),a.mc("ngIf",e.submitted&&e.formValidation.equipment.errors),a.zb(7),a.mc("ngIf",e.submitted&&e.formValidation.date_from.errors),a.zb(5),a.mc("ngIf",e.submitted&&e.formValidation.date_to.errors),a.zb(7),a.mc("ngIf",e.submitted&&e.formValidation.reason.errors),a.zb(1),a.mc("disabled",!e.equipmentForm.valid),a.zb(2),a.mc("routerLink","/it-equipments"))},directives:[r.t,r.k,r.e,r.a,r.j,r.d,n.l,o.c],styles:[""]}),t})();var V=i("jljr"),G=i("umRm");const j=[{path:"",component:V.a,children:[{path:"it-equipments",component:R},{path:"add-it-equipment",component:H},{path:"edit-it-equipment/:id",component:T},{path:"it-equipment/:id",component:x}]},{path:"",component:G.a,children:[]}];let L=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(j)],o.f]}),t})();var J=i("WM+C");let $=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[n.b,L,r.o,u.b,J.a]]}),t})()}}]);