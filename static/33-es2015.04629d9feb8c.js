(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"8xfr":function(t,i,e){"use strict";e.r(i),e.d(i,"SapRightModule",(function(){return $}));var r=e("ofXK"),s=e("3Pt+"),a=e("tyNb"),o=e("NiRy"),c=e("Jdlf"),n=e("fXoL"),d=e("Mtp9"),b=e("a9NN"),p=e("4PCd"),h=e("njyG");function l(t,i){if(1&t){const t=n.Sb();n.Rb(0,"button",7),n.cc("click",(function(){return n.wc(t),n.gc().addSapRight()})),n.Hc(1," New Request "),n.Qb()}}function g(t,i){if(1&t){const t=n.Sb();n.Rb(0,"span",15),n.cc("click",(function(){n.wc(t);const i=n.gc().$implicit;return n.gc(2).viewSapRight(i.pk_sap_rightid)})),n.Nb(1,"i",16),n.Qb()}}function m(t,i){if(1&t){const t=n.Sb();n.Rb(0,"span",17),n.cc("click",(function(){n.wc(t);const i=n.gc().$implicit;return n.gc(2).editSapRight(i.pk_sap_rightid)})),n.Nb(1,"i",18),n.Qb()}}function R(t,i){if(1&t){const t=n.Sb();n.Rb(0,"span",19),n.cc("click",(function(){n.wc(t);const i=n.gc().$implicit;return n.gc(2).deleteSapRight(i.pk_sap_rightid)})),n.Nb(1,"i",20),n.Qb()}}function u(t,i){if(1&t&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.Hc(2),n.Qb(),n.Rb(3,"td"),n.Hc(4),n.Qb(),n.Rb(5,"td"),n.Hc(6),n.Qb(),n.Rb(7,"td"),n.Hc(8),n.Qb(),n.Rb(9,"td",11),n.Fc(10,g,2,0,"span",12),n.Fc(11,m,2,0,"span",13),n.Fc(12,R,2,0,"span",14),n.Qb(),n.Qb()),2&t){const t=i.$implicit,e=n.gc(2);n.zb(2),n.Jc("TML/SR ",t.pk_sap_rightid,""),n.zb(2),n.Ic(t.sap_rights),n.zb(2),n.Ic(t.date_from),n.zb(2),n.Ic(t.date_to),n.zb(2),n.mc("ngIf",e.checkButton("view-sap-right")),n.zb(1),n.mc("ngIf",e.checkButton("edit-sap-right")),n.zb(1),n.mc("ngIf",e.checkButton("delete-sap-right"))}}function f(t,i){if(1&t&&(n.Rb(0,"table",8),n.Rb(1,"thead"),n.Rb(2,"tr"),n.Rb(3,"th"),n.Hc(4,"Ref ID"),n.Qb(),n.Rb(5,"th"),n.Hc(6,"Rights"),n.Qb(),n.Rb(7,"th"),n.Hc(8,"Start date"),n.Qb(),n.Rb(9,"th"),n.Hc(10,"End date"),n.Qb(),n.Rb(11,"th",9),n.Hc(12,"Options"),n.Qb(),n.Qb(),n.Qb(),n.Rb(13,"tbody"),n.Fc(14,u,13,7,"tr",10),n.Qb(),n.Qb()),2&t){const t=n.gc();n.mc("dtOptions",t.dtOptions),n.zb(14),n.mc("ngForOf",t.sapRights)}}let v=(()=>{class t{constructor(t,i,e,r){this.router=t,this.sidebarService=i,this.requestService=e,this.rolePermissionsState=r,this.dtOptions=c.a}getSapRights(){this.requestService.getRequests("sap_rights").then(t=>{this.sapRights=t},t=>{})}viewSapRight(t){this.router.navigate(["/sap-right",t])}editSapRight(t){this.router.navigate(["/edit-sap-right",t])}deleteSapRight(t){this.requestService.deleteRequest(t,"sap_rights").then(t=>{this.getSapRights()},t=>{})}addSapRight(){this.router.navigate(["/add-sap-right"])}checkButton(t){return Object(o.a)(this.rolePermissionsState,t)}ngOnInit(){this.getSapRights(),this.sidebarService.setTitle("myRequests")}}return t.\u0275fac=function(i){return new(i||t)(n.Mb(a.b),n.Mb(d.a),n.Mb(b.a),n.Mb(p.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-sap-rights"]],decls:9,vars:2,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-customer"],[1,"card-body","login-card-body"],[1,"text-left"],["class","btn btn-primary btn-sm mdi mdi-plus-circle",3,"click",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered","datatable","",3,"dtOptions",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mdi","mdi-plus-circle",3,"click"],["datatable","",1,"table","table-striped","table-bordered",3,"dtOptions"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-right","option-data"],["class","control text-secondary","title","View Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Edit Item",3,"click",4,"ngIf"],["class","control text-secondary","title","Delete Item",3,"click",4,"ngIf"],["title","View Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-eye","option-icon"],["title","Edit Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-lead-pencil","option-icon"],["title","Delete Item",1,"control","text-secondary",3,"click"],[1,"mdi","mdi-trash-can","option-icon"]],template:function(t,i){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"strong"),n.Hc(3,"SAP Rights Requests"),n.Qb(),n.Qb(),n.Rb(4,"div",2),n.Rb(5,"p",3),n.Fc(6,l,2,0,"button",4),n.Qb(),n.Rb(7,"div",5),n.Fc(8,f,15,2,"table",6),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(6),n.mc("ngIf",i.checkButton("add-sap-right")),n.zb(2),n.mc("ngIf",i.sapRights))},directives:[r.l,h.a,r.k],styles:[""]}),t})();var Q=e("YqHM"),S=e("T2nI"),_=e("SYt/");function y(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"SAP rights is required"),n.Qb())}function I(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"SAP rights is required"),n.Qb())}function w(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"Firstname is required"),n.Qb())}function q(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"Lastname is required"),n.Qb())}let F=(()=>{class t{constructor(t,i,e,r,s){this.formBuilder=t,this.router=i,this.sidebarService=e,this.requestService=r,this.processService=s,this.submitted=!1}addSapRights(){if(this.submitted=!0,!this.sapRightsForm.invalid){const t=this.sapRightsForm.value;this.sapRightsData={sap_rights:t.sap_rights,description:t.description,date_from:t.date_from,date_to:t.date_to,fk_processid:this.processId},this.requestService.addRequest(this.sapRightsData,"sap_rights").then(t=>{this.router.navigate(["/sap-rights"])},t=>{})}}ngOnInit(){Object(Q.a)(S.a.AddSAPRight,this.processService).then(t=>this.processId=t),this.sapRightsForm=this.formBuilder.group({sap_rights:["",s.r.compose([s.r.required])],description:["",s.r.compose([s.r.required])],date_from:["",s.r.compose([s.r.required])],date_to:["",s.r.compose([s.r.required])]}),this.sidebarService.setTitle("myRequests")}get formValidation(){return this.sapRightsForm.controls}}return t.\u0275fac=function(i){return new(i||t)(n.Mb(s.b),n.Mb(a.b),n.Mb(d.a),n.Mb(b.a),n.Mb(_.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-add-sap-right"]],decls:36,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-Firstname"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","paymentFor"],["type","textarea","id","paymentFor","placeholder","SAP Rights . . . ","rows","1","formControlName","sap_rights",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","textarea","id","paymentFor","placeholder","Description . . . ","rows","3","formControlName","description",1,"form-control"],[1,"col-5"],["for","amountInput"],["type","date","formControlName","date_from","placeholder","Date from",1,"form-control"],["type","date","formControlName","date_to","placeholder","Date to",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(t,i){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"strong"),n.Hc(3,"SAP Rights Details"),n.Qb(),n.Qb(),n.Rb(4,"div",2),n.Rb(5,"form",3),n.cc("ngSubmit",(function(){return i.addSapRights()})),n.Rb(6,"div",4),n.Rb(7,"div",5),n.Rb(8,"div",6),n.Rb(9,"label",7),n.Hc(10,"SAP Rights"),n.Qb(),n.Nb(11,"textarea",8),n.Fc(12,y,2,0,"div",9),n.Qb(),n.Qb(),n.Qb(),n.Rb(13,"div",4),n.Rb(14,"div",5),n.Rb(15,"div",6),n.Rb(16,"label",7),n.Hc(17,"SAP Rights Description"),n.Qb(),n.Nb(18,"textarea",10),n.Fc(19,I,2,0,"div",9),n.Qb(),n.Qb(),n.Qb(),n.Rb(20,"div",4),n.Rb(21,"div",5),n.Rb(22,"div",11),n.Rb(23,"label",12),n.Hc(24,"Start date"),n.Qb(),n.Nb(25,"input",13),n.Fc(26,w,2,0,"div",9),n.Qb(),n.Rb(27,"div",11),n.Rb(28,"label",12),n.Hc(29,"End date"),n.Qb(),n.Nb(30,"input",14),n.Fc(31,q,2,0,"div",9),n.Qb(),n.Qb(),n.Qb(),n.Rb(32,"button",15),n.Hc(33,"Submit"),n.Qb(),n.Rb(34,"button",16),n.Hc(35,"Cancel"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(5),n.mc("formGroup",i.sapRightsForm),n.zb(7),n.mc("ngIf",i.submitted&&i.formValidation.sap_rights.errors),n.zb(7),n.mc("ngIf",i.submitted&&i.formValidation.description.errors),n.zb(7),n.mc("ngIf",i.submitted&&i.formValidation.date_from.errors),n.zb(5),n.mc("ngIf",i.submitted&&i.formValidation.date_to.errors),n.zb(1),n.mc("disabled",!i.sapRightsForm.valid),n.zb(2),n.mc("routerLink","/sap-rights"))},directives:[s.t,s.k,s.e,s.a,s.j,s.d,r.l,a.c],styles:[""]}),t})();var H=e("mrSG"),k=e("Dsut"),z=e("m4K9"),N=e.n(z),x=e("DaQG"),D=e.n(x),M=e("hE/2");let P=(()=>{class t{constructor(t,i,e,r){this.router=t,this.requestService=i,this.activatedRoute=e,this.sidebarService=r,this.downloadPDF=()=>{const t=new N.a("p","pt");t.text("Sap Right Details",35,20),D()(t,{html:"#table"}),t.save(`sapright-${Date.now()}.pdf`)},this.sapRightId=e.snapshot.params.id,this.initializeSapRight()}getRequest(){return Object(H.a)(this,void 0,void 0,(function*(){try{const t=yield this.requestService.getRequests("requests",`fk_processid=${this.sapRight.fk_processid}&workflowid=${this.sapRightId}`);this.request=t[0]}catch(t){}}))}getSapRight(t){this.requestService.getRequest(t,"sap_rights").then(t=>{this.sapRight=t,this.getRequest(),this.initializeSapRight()},t=>{})}initializeSapRight(){null==this.sapRight&&(this.sapRight=new k.f,this.sapRight.sap_rights=null,this.sapRight.date_from=null,this.sapRight.date_to=null)}ngOnInit(){this.getSapRight(this.sapRightId),this.sidebarService.setTitle("myRequests")}}return t.\u0275fac=function(i){return new(i||t)(n.Mb(a.b),n.Mb(b.a),n.Mb(a.a),n.Mb(d.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-sap-right"]],decls:23,vars:8,consts:[[3,"title","downloadButtonClicked","processId","workflowid"],[1,"table","table-borderless","table-responsive"],["scope","row"]],template:function(t,i){1&t&&(n.Rb(0,"app-view-card",0),n.Rb(1,"table",1),n.Rb(2,"tbody"),n.Rb(3,"tr"),n.Rb(4,"th",2),n.Hc(5,"Requested by :"),n.Qb(),n.Rb(6,"td"),n.Hc(7),n.Qb(),n.Qb(),n.Rb(8,"tr"),n.Rb(9,"th",2),n.Hc(10,"Rights :"),n.Qb(),n.Rb(11,"td"),n.Hc(12),n.Qb(),n.Qb(),n.Rb(13,"tr"),n.Rb(14,"th",2),n.Hc(15,"Start date :"),n.Qb(),n.Rb(16,"td"),n.Hc(17),n.Qb(),n.Qb(),n.Rb(18,"tr"),n.Rb(19,"th",2),n.Hc(20,"End date :"),n.Qb(),n.Rb(21,"td"),n.Hc(22),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.mc("title","SAP Right")("downloadButtonClicked",i.downloadPDF)("processId",i.sapRight&&i.sapRight.fk_processid)("workflowid",i.sapRightId),n.zb(7),n.Jc(" ",i.request&&i.request.profile.user.first_name+" "+i.request.profile.user.last_name," "),n.zb(5),n.Ic(i.sapRight.sap_rights),n.zb(5),n.Ic(i.sapRight.date_from),n.zb(5),n.Ic(i.sapRight.date_to))},directives:[M.a],styles:[""]}),t})();function A(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"SAP rights is required"),n.Qb())}function C(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"SAP rights is required"),n.Qb())}function O(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"Firstname is required"),n.Qb())}function V(t,i){1&t&&(n.Rb(0,"div",17),n.Hc(1,"Lastname is required"),n.Qb())}let B=(()=>{class t{constructor(t,i,e,r,s){this.formBuilder=t,this.router=i,this.sidebarService=e,this.requestService=r,this.activatedRoute=s,this.submitted=!1,this.sapRightId=s.snapshot.params.id,this.initializeSapRightForm()}getSapRight(t){this.requestService.getRequest(t,"sap_rights").then(t=>{this.sapRight=t,this.initializeSapRightForm()},t=>{})}editSapRights(){if(this.submitted=!0,!this.sapRightForm.invalid){const t=this.sapRightForm.value;this.sapRightData={sap_rights:t.sap_rights,description:t.description,date_from:t.date_from,date_to:t.date_to},this.requestService.editRequest(this.sapRightId,this.sapRightData,"sap_rights").then(t=>{this.router.navigate(["/sap-rights"])},t=>{})}}initializeSapRightForm(){null==this.sapRight&&(this.sapRight=new k.f,this.sapRight.sap_rights=null,this.sapRight.date_from=null,this.sapRight.date_to=null),this.sapRightForm=this.formBuilder.group({sap_rights:[this.sapRight.sap_rights,s.r.compose([s.r.required])],description:[this.sapRight.description,s.r.compose([s.r.required])],date_from:[this.sapRight.date_from,s.r.compose([s.r.required])],date_to:[this.sapRight.date_to,s.r.compose([s.r.required])]})}ngOnInit(){this.getSapRight(this.sapRightId),this.sidebarService.setTitle("myRequests")}get formValidation(){return this.sapRightForm.controls}}return t.\u0275fac=function(i){return new(i||t)(n.Mb(s.b),n.Mb(a.b),n.Mb(d.a),n.Mb(b.a),n.Mb(a.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-edit-sap-right"]],decls:36,vars:7,consts:[[1,"card","login-card","dropdown-all","w-100"],[1,"card-header","card-header-Firstname"],[1,"card-body","login-card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-10"],["for","paymentFor"],["type","textarea","id","paymentFor","placeholder","SAP Rights . . . ","rows","1","formControlName","sap_rights",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","textarea","id","paymentFor","placeholder","Description . . . ","rows","3","formControlName","description",1,"form-control"],[1,"col-5"],["for","amountInput"],["type","date","formControlName","date_from","placeholder","Date from",1,"form-control"],["type","date","formControlName","date_to","placeholder","Date to",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn",3,"routerLink"],[1,"text-danger","small"]],template:function(t,i){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"strong"),n.Hc(3,"SAP Rights Details"),n.Qb(),n.Qb(),n.Rb(4,"div",2),n.Rb(5,"form",3),n.cc("ngSubmit",(function(){return i.editSapRights()})),n.Rb(6,"div",4),n.Rb(7,"div",5),n.Rb(8,"div",6),n.Rb(9,"label",7),n.Hc(10,"SAP Rights"),n.Qb(),n.Nb(11,"textarea",8),n.Fc(12,A,2,0,"div",9),n.Qb(),n.Qb(),n.Qb(),n.Rb(13,"div",4),n.Rb(14,"div",5),n.Rb(15,"div",6),n.Rb(16,"label",7),n.Hc(17,"SAP Rights Description"),n.Qb(),n.Nb(18,"textarea",10),n.Fc(19,C,2,0,"div",9),n.Qb(),n.Qb(),n.Qb(),n.Rb(20,"div",4),n.Rb(21,"div",5),n.Rb(22,"div",11),n.Rb(23,"label",12),n.Hc(24,"Start date"),n.Qb(),n.Nb(25,"input",13),n.Fc(26,O,2,0,"div",9),n.Qb(),n.Rb(27,"div",11),n.Rb(28,"label",12),n.Hc(29,"End date"),n.Qb(),n.Nb(30,"input",14),n.Fc(31,V,2,0,"div",9),n.Qb(),n.Qb(),n.Qb(),n.Rb(32,"button",15),n.Hc(33,"Submit"),n.Qb(),n.Rb(34,"button",16),n.Hc(35,"Cancel"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(5),n.mc("formGroup",i.sapRightForm),n.zb(7),n.mc("ngIf",i.submitted&&i.formValidation.sap_rights.errors),n.zb(7),n.mc("ngIf",i.submitted&&i.formValidation.description.errors),n.zb(7),n.mc("ngIf",i.submitted&&i.formValidation.date_from.errors),n.zb(5),n.mc("ngIf",i.submitted&&i.formValidation.date_to.errors),n.zb(1),n.mc("disabled",!i.sapRightForm.valid),n.zb(2),n.mc("routerLink","/sap-rights"))},directives:[s.t,s.k,s.e,s.a,s.j,s.d,r.l,a.c],styles:[""]}),t})();var G=e("jljr"),j=e("umRm");const L=[{path:"",component:G.a,children:[{path:"sap-rights",component:v},{path:"add-sap-right",component:F},{path:"edit-sap-right/:id",component:B},{path:"sap-right/:id",component:P}]},{path:"",component:j.a,children:[]}];let E=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(i){return new(i||t)},imports:[[a.f.forChild(L)],a.f]}),t})();var J=e("WM+C");let $=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(i){return new(i||t)},imports:[[r.b,E,s.o,h.b,J.a]]}),t})()}}]);